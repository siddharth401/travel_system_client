{"code":"webpackJsonp([26],{\"/hCg\":function(n,a){n.exports='.date_actual{\\n    margin-right: 20px;\\n}\\n#information-button{\\n    margin-right: 10px;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n#message-button {\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n.cancel_status{\\n    color: red;\\n}\\n.guider_languages {\\n    margin-right: 20px;\\n}\\n.btn-cancel {\\n    background-color: red;\\n    color: #fff;\\n    border-radius: 8px;\\n}\\n.btn-approve {\\n    background-color: #74c149 ;\\n    color: #fff;\\n    border-radius: 8px;\\n}\\n.bottom-information-message {\\n    width: 70%;\\n    border-bottom: 1px solid #ccc;\\n    margin-left: 113px;\\n}\\n.text-status {\\n    width: 170px;\\n    float: left;\\n    padding-top: 7px;\\n}\\n.guider-text-status{\\n    width: 200px;\\n    float: left;\\n    padding-top: 7px;\\n}\\n/*.fa-star{*/\\n/*color: darkgrey;*/\\n/*}*/\\n.checked {\\n    color: orange;\\n}\\n/*.point-rating {*/\\n/*margin-left: 10px;*/\\n/*}*/\\n.button-back {\\n    text-align: center;\\n}\\n.selection-width{\\n    width: 250px;\\n}\\n.text-align-left {\\n    text-align: left;\\n}\\n#content-message {\\n    width: 70%;\\n    margin-left: 113px;\\n}\\n.content-message__date {\\n    font-size: 12px;\\n    display: block;\\n    margin: 15px 0 5px;\\n}\\n.content-message__box {\\n    background: #fff2cc;\\n    border-radius: 4px;\\n    position: relative;\\n    color: #333;\\n    padding: 10px;\\n    word-break: break-all;\\n}\\n.content-message__box--blue {\\n    background: #D4E1F5;\\n}\\n.content-message__box--blue:before {\\n    position: absolute;\\n    top:50%;\\n    margin-top: -10px;\\n    content: \"\";\\n    border-style: solid;\\n    border-width: 15px 15px 15px 0;\\n    border-color: #D4E1F5 transparent transparent transparent !important;\\n    left: -1px;\\n    -webkit-transform: rotate(-45deg) !important;\\n            transform: rotate(-45deg) !important;\\n}\\n.content-message__box--orange:before {\\n    right: -2px !important;\\n    content: \"\";\\n    position: absolute;\\n    top:50%;\\n    margin-top: -18px;\\n    content: \"\";\\n    border-style: solid;\\n    border-width: 15px 15px 15px 0;\\n    border-color: #fff2cc transparent transparent transparent;\\n    -webkit-transform: rotate(134deg);\\n            transform: rotate(134deg);\\n}\\n.content-message__box:before {\\n\\n}\\n.content-message__style {\\n    margin-bottom: 25px;\\n    margin-top: -6px;\\n}\\n.content-message__style:last-child {\\n    margin-left: 0;\\n    margin-right: 15px;\\n}\\n.content-message__date--right {\\n    text-align: right;\\n    margin: 5px 0 15px !important;\\n}\\n.no-data-result {\\n    margin-top: 10px;\\n}\\n.thead-table {\\n    color:#fff;\\n}\\n.hasinput ul {\\n    list-style: none;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    color:#f0ad4e;\\n}\\n.table-style {\\n    padding: 0;\\n}\\n.table-inner {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: end;\\n        -ms-flex-pack: end;\\n            justify-content: flex-end;\\n    width: 100%;\\n}\\n.table-title {\\n    text-align: right;\\n    padding: 0 26px;\\n}\\n.table-btn {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n}\\n.table-btn a {\\n    width: 100px;\\n    margin: 0 5px;\\n}\\n.button-review{\\n    margin-left: 650px;\\n    margin-top: 10px;\\n\\n}\\n.rating {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n}\\n.content-list__score {\\n    list-style: none;\\n    color:#f0ad4e;\\n    margin-left: -39px;\\n    margin-right: 5px;\\n}\\n.content-list__score li {\\n    display: inline-block;\\n}\\n.booking-block {\\n    padding: 0;\\n}\\n.booking-block.control-label {\\n    padding-right: 26px;\\n}\\n.button-submit-review {\\n    margin-left: 530px;\\n    margin-top: 10px;\\n}\\n.label-msg {\\n    text-align: left;\\n    width: 100%;\\n}\\n.booking-management {\\n    margin-top: 0px;\\n}\\n.text-guider-status {\\n    margin-left: 5px;\\n    margin-right: 10px;\\n}\\n.pre-text {\\n    margin-bottom: 10px;\\n    white-space: pre-wrap;\\n    word-break: break-all;\\n    line-height: 20px;\\n    border: none;\\n    background: transparent;\\n    padding: 0;\\n}\\n.content-message__pre-text {\\n    white-space: pre-wrap;\\n    word-break: break-all;\\n    line-height: 20px;\\n    background: transparent;\\n    overflow: hidden;\\n    border: 0;\\n}'},\"5aKO\":function(n,a){n.exports='<div id=\"content\">\\n    <admin-flash></admin-flash>\\n    <div class=\"row\">\\n        <sa-big-breadcrumbs [items]=\"[[\\'Booking management\\'|trans],[\\'Booking list\\'|trans]]\" icon=\"plus-square\"\\n                            class=\"col-xs-12 \"></sa-big-breadcrumbs>\\n    </div>\\n\\n    \\x3c!-- widget grid --\\x3e\\n    <section id=\"widget-grid\" class=\"\">\\n        \\x3c!-- row --\\x3e\\n        <div class=\"row\">\\n\\n            \\x3c!-- NEW WIDGET START --\\x3e\\n            <article class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 sortable-grid ui-sortable\">\\n                <div class=\"jarviswidget jarviswidget-color-blueDark\">\\n                    <header role=\"heading\">\\n                        <span class=\"widget-icon\"> <i class=\"fa fa-table\"></i> </span>\\n                        <h2>{{\\'Booking search\\'|trans}}</h2>\\n\\n                        <span class=\"jarviswidget-loader\"><i class=\"fa fa-refresh fa-spin\"></i></span>\\n                    </header>\\n                    <div>\\n                        <form class=\"form-horizontal\" (ngSubmit)=\"search(true)\">\\n                            <div class=\"form-group\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Reservation date\\'|trans}}</label>\\n                                <div class=\"col-md-2\">\\n                                    <input [(ngModel)]=\"params.date_plan_from\" name=\"date_plan_from\"\\n                                           class=\"form-control datepicker\" placeholder=\"{{\\'YYYY/MM/DD\\'}}\" readonly=\"\\'readonly\\'\"/>\\n                                </div>\\n                                <div class=\"col-md-1 control-label date-from-to\">\\uff5e</div>\\n                                <div class=\"col-md-2\">\\n                                    <input [(ngModel)]=\"params.date_plan_to\" name=\"date_plan_to\" class=\"form-control datepicker\"\\n                                           placeholder=\"{{\\'YYYY/MM/DD\\'}}\" readonly=\"\\'readonly\\'\"/>\\n                                </div>\\n                            </div>\\n                            <div class=\"form-group\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Experience date\\'|trans}}</label>\\n                                <div class=\"col-md-2\">\\n                                    <input [(ngModel)]=\"params.date_actual_from\" name=\"date_actual_from\"\\n                                           class=\"form-control datepicker\" placeholder=\"{{\\'YYYY/MM/DD\\'}}\" readonly=\"\\'readonly\\'\"/>\\n                                </div>\\n                                <div class=\"col-md-1 control-label date-from-to\">\\uff5e</div>\\n                                <div class=\"col-md-2\">\\n                                    <input [(ngModel)]=\"params.date_actual_to\" name=\"date_actual_to\"\\n                                           class=\"form-control datepicker\" placeholder=\"{{\\'YYYY/MM/DD\\'}}\" readonly=\"\\'readonly\\'\"x/>\\n                                </div>\\n                            </div>\\n                            <div class=\"form-group form-group--input\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Classification\\'|trans}}</label>\\n                                <div class=\"col-md-10\">\\n                                    <label *ngFor=\"let item of app.constant.Booking.classification|list\" class=\"checkbox-label div-status\">\\n                                        <input [value]=\"item.key\" (change)=\"onChangeClassification($event);\"\\n                                           class=\"checkbox checkbox-status\" type=\"checkbox\"><span>{{item.value|trans}}</span>\\n                                    </label>\\n                                </div>\\n                            </div>\\n                            <div class=\"form-group form-group--input\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Status\\'|trans}}</label>\\n                                <div class=\"col-md-10\">\\n                                    <div *ngFor=\"let item of app.constant.Booking.status_backend|list\">\\n                                        <label class=\"checkbox-label div-status\">\\n                                            <input [value]=\"item.key\" (change)=\"onChangeStatus($event);\"\\n                                                   class=\"checkbox checkbox-status\" type=\"checkbox\"><span>{{item.value|trans}}</span>\\n                                        </label>\\n                                    </div>\\n                                </div>\\n\\n                            </div>\\n                            <div class=\"form-group form-group--input\">\\n                                <label class=\"col-md-2 control-label\">{{\\'User approval\\'|trans}}</label>\\n                                <div class=\"col-md-10\">\\n                                    <label *ngFor=\"let item of app.constant.Booking.user_approval|list\" class=\"checkbox-label div-status\">\\n                                        <input [value]=\"item.key\" (change)=\"onChangeUserStatus($event);\"\\n                                               class=\"checkbox checkbox-status\" type=\"checkbox\"><span>{{item.value|trans}}</span>\\n                                    </label>\\n                                </div>\\n\\n                            </div>\\n                            <div class=\"form-group form-group--input\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Guide approval\\'|trans}}</label>\\n                                <div class=\"col-md-10\">\\n                                    <label *ngFor=\"let item of app.constant.Booking.guider_status|list\" class=\"checkbox-label div-status\">\\n                                        <input [value]=\"item.key\" (change)=\"onChangeGuiderStatus($event);\"\\n                                           class=\"checkbox checkbox-status\" type=\"checkbox\"><span>{{item.value|trans}}</span>\\n                                    </label>\\n                                </div>\\n\\n                            </div>\\n                            <div class=\"form-group form-group--input\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Payment status\\'|trans}}</label>\\n                                <div class=\"col-md-10\">\\n                                    <label *ngFor=\"let item of app.constant.Booking.guider_payment|list\" class=\"checkbox-label div-status\">\\n                                        <input [value]=\"item.key\" (change)=\"onChangePaymentStatus($event);\"\\n                                               class=\"checkbox checkbox-status\" type=\"checkbox\"><span>{{item.value|trans}}</span>\\n                                    </label>\\n                                </div>\\n\\n                            </div>\\n                            <div class=\"form-group\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Reserved name\\'|trans}}</label>\\n                                <div class=\"col-md-5\">\\n                                    <input [(ngModel)]=\"params.member_name\" name=\"member_name\" class=\"form-control\"\\n                                           placeholder=\"{{\\'Member booking\\'|trans}}\" (input)=\"app.suggesstionText(bookings.data, 1)\"/>\\n                                </div>\\n                            </div>\\n                            <div class=\"form-group\">\\n                                <label class=\"col-md-2 control-label\">{{\\'Email\\'|trans}}</label>\\n                                <div class=\"col-md-5\">\\n                                    <input [(ngModel)]=\"params.email\" name=\"email\" class=\"form-control\"\\n                                           placeholder=\"{{\\'Email\\'|trans}}\" (input)=\"app.suggesstionText(bookings.data, 2)\"/>\\n                                </div>\\n                            </div>\\n                            <div class=\"form-group\">\\n                                <label class=\"col-md-2 control-label\"></label>\\n                                <div class=\"col-md-8\">\\n                                    <a (click)=\"reset()\" class=\"btn btn-reset\">{{\\'Reset\\'|trans}}</a>\\n                                    <button class=\"btn btn-approve\">{{\\'Search\\'|trans}}</button>\\n                                </div>\\n                            </div>\\n                        </form>\\n                    </div>\\n                    <div role=\"content\">\\n                        <a class=\"btn btn-default btn-primary pull-right button-orange\" (click)=\"downloadCsv()\">\\n                            {{\\'Download\\'|trans}}\\n                        </a>\\n                        <div class=\"clearfix\"></div>\\n                        <br/>\\n                        <div class=\"widget-body\">\\n                            <div class=\"table-scroll\">\\n                                <table class=\"table table-striped table-bordered table-hover\">\\n                                    <thead>\\n                                    <tr class=\"thead-table\">\\n                                        <th (click)=\"changeSort(\\'id\\')\"><a>{{\\'Booking ID\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"changeSort(\\'created_at\\')\"><a>{{\\'Reservation date\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                        <th><a>{{\\'Reserved name\\'|trans}}</a></th>\\n                                        <th><a>{{\\'Number people\\'|trans}}</a></th>\\n                                        <th (click)=\"changeSort(\\'amount\\')\"><a>{{\\'Amount\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"changeSort(\\'date_actual\\')\"><a>{{\\'Experience date\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"changeSort(\\'member_id\\')\"><a>{{\\'Guider\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"changeSort(\\'booking_chats_count\\')\"><a>{{\\'Message\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"changeSort(\\'status\\')\"><a>{{\\'Implementation\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                        <th><a>{{\\'User approval\\'|trans}}</a></th>\\n                                        <th><a>{{\\'Guide approval\\'|trans}}</a></th>\\n                                        <th><a>{{\\'Reviews\\'|trans}}</a></th>\\n                                        <th><a>{{\\'Payment status\\'|trans}}</a></th>\\n                                        <th (click)=\"changeSort(\\'classification\\')\"><a>{{\\'Classification\\'|trans}}</a><span\\n                                                class=\"arrow desc\"></span></th>\\n                                    </tr>\\n                                    </thead>\\n                                    <tbody *ngIf=\"bookings.total == 0\">\\n                                    <tr>\\n                                        <td colspan=\"14\" class=\"text-center\">\\n                                            <span *ngIf=\"is_search == false\">{{\\'No data\\'|trans}}</span>\\n                                            <span *ngIf=\"is_search == true\">{{\\'We can not find any matched data with provided requirements\\'|trans}}</span>\\n                                        </td>\\n                                    </tr>\\n                                    </tbody>\\n                                    <tbody *ngIf=\"bookings\">\\n                                    <tr *ngFor=\"let item of bookings.data\">\\n                                        <td>{{item.id|addFixedId: \\'Y\\'}}</td>\\n                                        <td><span *ngIf=\"item.created_at\">{{item.created_at|datex: \\'YYYY/MM/DD\\'}}</span></td>\\n                                        <td><a [routerLink]=\\'[\"/admin/booking/form/\",item.id]\\'>{{item.member_name}}</a></td>\\n                                        <td>{{item.number_people}}</td>\\n                                        <td>{{app.constant.Currency_unit[item.amount_unit]}}{{item.amount}}</td>\\n                                        <td><span *ngIf=\"item.date_actual\">{{item.date_actual|datex: \\'YYYY/MM/DD\\'}}</span></td>\\n                                        <td>\\n                                            <span *ngIf=\"listGuiders[item.plan_member_id]\">{{listGuiders[item.plan_member_id]}}</span>\\n                                        </td>\\n                                        <td>\\n                                            <span *ngIf=\"item.booking_chats_count == 0\" class=\"zero_num_comments\">{{item.booking_chats_count}}</span>\\n                                            <span *ngIf=\"item.booking_chats_count > 0\" class=\"num_comments\">{{item.booking_chats_count}}</span>\\n                                        </td>\\n                                        <td>\\n                                            <span *ngIf=\"item.status == app.constant.REQUESTING_GUIDER\">{{\\'Requesting\\'|trans}}</span>\\n                                            <span *ngIf=\"item.status == app.constant.AFTER_EXECUTE && item.is_already == app.constant.FALSE\">{{\\'Before execute\\'|trans}}</span>\\n                                            <span><a *ngIf=\"item.status == app.constant.AFTER_EXECUTE && item.is_already == app.constant.TRUE\" [routerLink]=\\'[\"/admin/booking/form/\",item.id]\\'>{{\\'Execute confirm\\'|trans}}</a></span>\\n                                            <span *ngIf=\"item.status == app.constant.REQUEST_REVIEW || item.status == app.constant.REVIEWED\">{{\\'Executed\\'|trans}}</span>\\n                                            <span *ngIf=\"item.status == app.constant.CANCEL\" class=\"cancel_status\">{{\\'Cancel\\'|trans}}</span>\\n                                        </td>\\n                                        <td>\\n                                            <span *ngIf=\"item.traveler_status_go == app.constant.FALSE\">{{\\'Not yet\\'|trans}}</span>\\n                                            <span *ngIf=\"item.traveler_status_go == app.constant.TRUE\">{{\\'Approved\\'|trans}}</span>\\n                                            <a *ngIf=\"item.traveler_status_not_go == app.constant.TRUE\" class=\"btn btn-default btn-primary button-orange\"><span>{{\\'Non-approval\\'|trans}}</span></a>\\n                                        </td>\\n                                        <td>\\n                                            <span *ngIf=\"item.guider_status_go == app.constant.FALSE\">{{\\'Not yet\\'|trans}}</span>\\n                                            <span *ngIf=\"item.guider_status_go == app.constant.TRUE\">{{\\'Approved\\'|trans}}</span>\\n                                            <a *ngIf=\"item.guider_status_not_go == app.constant.TRUE\" class=\"btn btn-default btn-primary button-orange\"><span>{{\\'Non-approval\\'|trans}}</span></a>\\n                                        </td>\\n                                        <td>\\n                                            <span *ngIf=\"item.booking_reviews_status == null  && !item.booking_reviews_user_id\">{{\\'---\\'}}</span>\\n                                            <a *ngIf=\"item.status != app.constant.REVIEWED && item.booking_reviews_status == app.constant.FALSE && !item.booking_reviews_user_id\" class=\"btn btn-approve\" [routerLink]=\\'[\"/admin/booking/form/\",item.id]\\'><span>{{\\'Approval\\'|trans}}</span></a>\\n                                            <span *ngIf=\"(item.booking_reviews_status == app.constant.FALSE || item.booking_reviews_status == app.constant.BOOKING_REVIEW_NON_APPROVAL)  && item.booking_reviews_user_id\">{{\\'Non-approval\\'|trans}}</span>\\n                                            <span *ngIf=\"item.status == app.constant.REVIEWED\">{{\\'Approved\\'|trans}}</span>\\n                                        </td>\\n                                        <td>\\n                                            <span *ngIf=\"app.constant.Booking.guider_payment[item.castposts_status]\">{{app.constant.Booking.guider_payment[item.castposts_status]|trans}}</span>\\n                                            <span *ngIf=\"!app.constant.Booking.guider_payment[item.castposts_status] && (item.status == app.constant.AFTER_EXECUTE || item.status == app.constant.REQUEST_REVIEW || item.status == app.constant.REVIEWED)\">{{\\'Not yet\\'|trans}}</span>\\n                                            <span *ngIf=\"!app.constant.Booking.guider_payment[item.castposts_status] && (item.status == app.constant.REQUESTING_GUIDER || item.status == app.constant.CANCEL)\">{{\\'---\\'}}</span>\\n                                        </td>\\n                                        <td>\\n                                            <span *ngIf=\"!item.request_id; then book_reservation else request_reservation\"></span>\\n                                            <ng-template #book_reservation>\\n                                                <span>{{app.constant.BOOK_RESERVATION|trans}}</span></ng-template>\\n                                            <ng-template #request_reservation><span>{{app.constant.REQUEST_RESERVATION|trans}}</span>\\n                                            </ng-template>\\n                                        </td>\\n                                    </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                            <sa-paginator *ngIf=\"bookings.total > 10\" [data]=\"bookings\" url=\"/admin/booking\"></sa-paginator>\\n                        </div>\\n                    </div>\\n                </div>\\n            </article>\\n        </div>\\n    </section>\\n</div>\\n'},PBXL:function(n,a){n.exports=\".cancel_status {\\n    color: red;\\n}\\n.btn-approve {\\n    background-color: #74c149 ;\\n    color: #fff;\\n    border-radius: 8px;\\n}\\n.btn-reset {\\n    background-color: #d0d0d0 ;\\n    color: #fff;\\n    border-radius: 8px;\\n}\\n.date-from-to {\\n    text-align: center;\\n}\\n.checkbox-status{\\n    margin-right: 10px;\\n}\\n.title{\\n    background-color: #3276b1;\\n    color: #fff;\\n    font-size: 18px;\\n    padding: 5px 20px;\\n    display: inline-block;\\n}\\n.thead-table th{\\n    background-color: #3276b1;\\n}\\n.thead-table th a{\\n    color: #fff;\\n}\\n.div-status{\\n    width: 120px;\\n    float: left;\\n}\\n.ngx-datepicker-calendar-container {\\n    z-index: 999;\\n}\\n.num_comments{\\n    background-color: red;\\n    width: 18px;\\n    height: 18px;\\n    border-radius: 50%;\\n    color: #fff;\\n    display: block;\\n    line-height: 18px;\\n    margin:auto;\\n    margin-top: 8px;\\n}\\n.zero_num_comments{\\n    background-color: grey;\\n    width: 18px;\\n    height: 18px;\\n    border-radius: 50%;\\n    color: #fff;\\n    display: block;\\n    line-height: 18px;\\n    margin:auto;\\n    margin-top: 8px;\\n}\\n.form-group--input .control-label {\\n    padding-top:2px;\\n}\\ntr td span{\\n    display: block;\\n}\"},\"X/Cf\":function(n,a){n.exports='<div id=\"content\">\\n    <div class=\"row\">\\n        <sa-big-breadcrumbs [items]=\"[[\\'HOME\\'|trans, \\'/admin/home\\'],[\\'Booking management\\'|trans, \\'/admin/booking\\'],[(fb.isNew?\\'Add\\':\\'Booking detail\\')|trans]]\" icon=\"plus-square\"\\n                            class=\"col-xs-12 col-sm-7 col-md-7 col-lg-4\"></sa-big-breadcrumbs>\\n    </div>\\n\\n    <section id=\"widget-grid\" class=\"\">\\n        <div class=\"row\">\\n            <article class=\"col-sm-12\">\\n                <h2 class=\"booking-management\">{{\\'Booking management\\'|trans}}</h2>\\n                <div class=\"jarviswidget jarviswidget-sortable\" id=\"wid-id-0\" data-widget-colorbutton=\"false\"\\n                     data-widget-editbutton=\"false\" role=\"widget\">\\n                    <header role=\"heading\">\\n                        <div class=\"jarviswidget-ctrls\" role=\"menu\">\\n                            <a href=\"javascript:void(0);\" class=\"button-icon jarviswidget-fullscreen-btn\" rel=\"tooltip\"\\n                               title=\"\" data-placement=\"bottom\" data-original-title=\"Fullscreen\"><i\\n                                    class=\"fa fa-expand\"></i></a>\\n                        </div>\\n                        <span class=\"widget-icon\"> <i class=\"fa fa-pencil-square-o\"></i> </span>\\n                        <h2>{{\\'Booking detail\\'|trans}}</h2>\\n                    </header>\\n\\n                    <div role=\"content\">\\n                        <div class=\"jarviswidget-editbox\">\\n                        </div>\\n                        <div class=\"widget-body\">\\n                            <form [formGroup]=\"fb.form\" class=\"form-horizontal\" *ngIf=\"fb.form.value\">\\n                                <div class=\"form-group\">\\n                                    <label class=\"col-md-2 control-label\">{{\\'NO\\'|trans}}</label>\\n                                    <div class=\"col-md-8\">\\n                                        <label class=\"control-label\">{{fb.form.value[\\'id\\']|addFixedId: \"Y\"}}</label>\\n                                    </div>\\n                                </div>\\n                                <div class=\"form-group\">\\n                                    <label class=\"col-md-2 control-label\"><strong>{{\\'Booking content\\'|trans}}</strong></label>\\n                                </div>\\n                                <div class=\"form-group\">\\n                                    <label class=\"col-md-2 control-label\">{{\\'Reservation date\\'|trans}}</label>\\n                                    <div class=\"col-md-8\">\\n                                        <label class=\"control-label\">{{fb.form.value[\\'created_at\\']|datex: \"YYYY/MM/DD\"}}</label>\\n                                    </div>\\n                                </div>\\n                                <div class=\"form-group\">\\n                                    <label class=\"col-md-2 control-label\">{{\\'Guider plan\\'|trans}}</label>\\n                                    <div class=\"col-md-8\" *ngIf=\"fb.form.value[\\'plans\\']\">\\n                                        <label class=\"control-label\" *ngFor=\"let item of fb.form.value[\\'plans\\'][\\'plan_translates\\']; let i = index;\">\\n                                            <a [routerLink]=\\'[\"/admin/plan/form/\",item.plan_id,1]\\'\\n                                               target=\"_blank\" *ngIf=\"i == 0\">{{item.proposal_title}}</a>\\n                                        </label>\\n                                    </div>\\n                                </div>\\n                                <div class=\"form-group\">\\n                                    <label class=\"col-md-2 control-label\">{{\\'Experience date\\'|trans}}/{{\\'Time start\\'|trans}}</label>\\n                                    <div class=\"col-md-8\">\\n                                        <label class=\"control-label\">\\n                                            <span class=\"date_actual\" *ngIf=\"fb.form.value[\\'date_actual\\']\">{{fb.form.value[\\'date_actual\\']|datex: \"YYYY/MM/DD\"}}</span>\\n                                            <span *ngIf=\"fb.form.value[\\'plans\\']\">{{fb.form.value[\\'plans\\'][\\'time_start\\']}}</span>\\n                                        </label>\\n                                    </div>\\n                                </div>\\n                                <div class=\"form-group\">\\n                                    <label class=\"col-md-2 control-label\">{{\\'Meeting place\\'|trans}}</label>\\n                                    <div class=\"col-md-8\">\\n                                        <label>{{fb.form.value[\\'address\\']}}</label>\\n                                    </div>\\n                                </div>\\n                                <div class=\"form-group\">\\n                                    <label class=\"col-md-2 control-label\">{{\\'Guider\\'|trans}}</label>\\n                                    <div class=\"col-md-8\">\\n                                        <label class=\"control-label\"\\n                                               *ngIf=\"fb.form.value[\\'plans\\'] && listGuiders[fb.form.value[\\'plans\\'][\\'member_id\\']]\">\\n                                            <a [routerLink]=\\'[\"/admin/members/form/\",fb.form.value[\"plans\"][\"member_id\"]]\\'\\n                                               target=\"_blank\">{{listGuiders[fb.form.value[\\'plans\\'][\\'member_id\\']]}}</a>\\n                                        </label>\\n                                    </div>\\n                                </div>\\n                                \\x3c!--This is information booking and message of booking content--\\x3e\\n                                <div class=\"form-group\">\\n                                    <div class=\"bottom-information-message\">\\n                                        <button class=\"btn btn-primary\" id=\"information-button\"\\n                                                (click)=\"clickButton(1)\"><i class=\"fa\"></i> {{\\'Information\\'|trans}}\\n                                        </button>\\n                                        <button class=\"btn btn-default\" id=\"message-button\" (click)=\"clickButton(2)\"><i\\n                                                class=\"fa\"></i> {{\\'Message\\'|trans}}\\n                                        </button>\\n                                    </div>\\n                                    \\x3c!--This is content information booking--\\x3e\\n                                    <div class=\"col-md-12\" id=\"content-information\">\\n                                        <form class=\"form-horizontal\">\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'F014_Name\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\">\\n                                                        <a *ngIf=\"fb.form.value[\\'members\\'][\\'name\\']\" [routerLink]=\\'[\"/admin/members/form/\",fb.form.value[\"member_id\"]]\\'\\n                                                           target=\"_blank\">{{fb.form.value[\\'members\\'][\\'name\\']}}</a>\\n                                                    </label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Customer name\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\" *ngIf=\"fb.form.value[\\'customer_name\\']\">{{fb.form.value[\\'customer_name\\']}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Gender\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\"\\n                                                           *ngIf=\"fb.form.value[\\'gender\\'] && app.constant.User.gender[fb.form.value[\\'gender\\']]\">{{app.constant.User.gender[fb.form.value[\\'gender\\']]|trans}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Email\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\" *ngIf=\"fb.form.value[\\'members\\']\">{{fb.form.value[\\'members\\'][\\'email\\']}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Customer email\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\" *ngIf=\"fb.form.value[\\'email\\']\">{{fb.form.value[\\'email\\']}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Telephone\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\"><span *ngIf=\"app.constant.CountryCallingCodes[fb.form.value[\\'phone_code\\']]\">{{app.constant.CountryCallingCodes[fb.form.value[\\'phone_code\\']]}}</span>{{fb.form.value[\\'phone\\']}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Country\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\"\\n                                                           *ngIf=\"fb.form.value[\\'country_id\\'] && listCountries[fb.form.value[\\'country_id\\']]\">{{listCountries[fb.form.value[\\'country_id\\']]}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\" *ngIf=\"fb.form.value[\\'country_id\\'] == app.constant.COUNTRY_DEFAULT\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Prefecture\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\"\\n                                                           *ngIf=\"fb.form.value[\\'prefecture_id\\'] && listPrefecture[fb.form.value[\\'prefecture_id\\']]\">{{listPrefecture[fb.form.value[\\'prefecture_id\\']]}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Address\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <label class=\"control-label\" *ngIf=\"fb.form.value[\\'customer_address\\']\">{{fb.form.value[\\'customer_address\\']}}</label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Talkable languages\\'|trans}}</label>\\n                                                <div class=\"col-md-8\" *ngIf=\"listLanguages\">\\n                                                    <label class=\"control-label\" *ngIf=\"fb.form.value[\\'customer_languages\\']\">\\n                                                        <span *ngFor=\"let item of fb.form.value[\\'customer_languages\\']\" class=\"guider_languages\">{{listLanguages[item.language_id]|trans}}</span>\\n                                                    </label>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\"><strong>{{\\'Implementation status\\'|trans}}</strong></label>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Implementation state\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <div class=\"text-status\">\\n                                                        <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.REQUESTING_GUIDER\">\\n                                                            {{\\'Requesting\\'|trans}}\\n                                                        </span>\\n                                                        <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.AFTER_EXECUTE && fb.form.value[\\'is_already\\'] == app.constant.FALSE\">\\n                                                            {{\\'Before execute\\'|trans}}\\n                                                        </span>\\n                                                        <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.AFTER_EXECUTE\\n                                                        && fb.form.value[\\'is_already\\'] == app.constant.TRUE\">\\n                                                            {{\\'Execute confirm\\'|trans}}\\n                                                        </span>\\n                                                        <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.REQUEST_REVIEW || fb.form.value[\\'status\\'] == app.constant.REVIEWED\">{{\\'Executed\\'|trans}}</span>\\n                                                        <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.CANCEL\">\\n                                                            {{\\'Cancel\\'|trans}}\\n                                                        </span>\\n                                                    </div>\\n                                                    <div>\\n                                                        <a *ngIf=\"fb.form.value[\\'status\\'] == app.constant.REQUESTING_GUIDER\\n                                                        || (fb.form.value[\\'status\\'] == app.constant.AFTER_EXECUTE && fb.form.value[\\'is_already\\'] == app.constant.FALSE)\"\\n                                                           (click)=\"changeStatus(fb.form.value[\\'id\\'], \\'status\\', \\'Booking\\', app.constant.CANCEL)\"\\n                                                           class=\"btn btn-cancel\">\\n                                                            {{\\'Cancel\\'|trans}}\\n                                                        </a>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\"form-group\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Guider implementation state\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <div class=\"guider-text-status\">\\n                                                    <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.REQUESTING_GUIDER\\n                                                    && fb.form.value[\\'is_already\\'] == app.constant.FALSE\">\\n                                                        {{\\'Before execute\\'|trans}}\\n                                                    </span>\\n                                                    <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.AFTER_EXECUTE || fb.form.value[\\'status\\'] == app.constant.REQUEST_REVIEW || fb.form.value[\\'status\\'] == app.constant.REVIEWED\">\\n                                                        <span class=\"text-guider-status\">{{\\'Execute\\'|trans}}</span>\\n                                                        <span class=\"date_actual\" *ngIf=\"fb.form.value[\\'date_actual\\']\">{{fb.form.value[\\'date_actual\\']|datex: \"YYYY/MM/DD HH:mm\"}}</span>\\n                                                    </span>\\n                                                    <span *ngIf=\"fb.form.value[\\'status\\'] == app.constant.CANCEL\">\\n                                                        <span>{{\\'Non-approval\\'|trans}}</span>\\n                                                        <span class=\"date_actual\" *ngIf=\"fb.form.value[\\'date_actual\\']\">{{fb.form.value[\\'date_actual\\']|datex: \"YYYY/MM/DD HH:mm\"}}</span>\\n                                                    </span>\\n\\n                                                    </div>\\n                                                    <div>\\n                                                        <a *ngIf=\"fb.form.value[\\'status\\'] == app.constant.REQUESTING_GUIDER\\n                                                    && fb.form.value[\\'is_already\\'] == app.constant.FALSE\"\\n                                                           (click)=\"changeStatus(fb.form.value[\\'id\\'], \\'status\\', \\'Booking\\', app.constant.AFTER_EXECUTE)\" class=\"btn btn-approve\">\\n                                                            {{\\'Execute\\'|trans}}\\n                                                        </a>\\n                                                        <a *ngIf=\"fb.form.value[\\'status\\'] == app.constant.REQUESTING_GUIDER\\n                                                    && fb.form.value[\\'is_already\\'] == app.constant.FALSE\"\\n                                                           (click)=\"changeStatus(fb.form.value[\\'id\\'], \\'status\\', \\'Booking\\', app.constant.CANCEL)\" class=\"btn btn-cancel\">\\n                                                            {{\\'Cancel\\'|trans}}\\n                                                        </a>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            \\x3c!--<div class=\"form-group\" *ngIf=\"fb.form.value[\\'plans\\'] && fb.form.value[\\'plans\\'][\\'request_id\\']\">\\n                                                <label class=\"col-md-2 control-label\">{{\\'Guide approval\\'|trans}}</label>\\n                                                <div class=\"col-md-8\">\\n                                                    <div class=\"text-status\"><span\\n                                                            *ngIf=\"app.constant.Booking.guider_status[fb.form.value[\\'guider_status\\']]\">{{app.constant.Booking.guider_status[fb.form.value[\\'guider_status\\']]|trans}}</span>\\n                                                    </div>\\n                                                    <div>\\n                                                        <a *ngIf=\"app.constant.Booking.guider_status[fb.form.value[\\'guider_status\\']] && fb.form.value[\\'guider_status\\'] != app.constant.NOT_YET\"\\n                                                           (click)=\"changeGuiderStatus(fb.form.value[\\'id\\'], \\'guider_status\\', \\'Booking\\', app.constant.APPROVAL)\"\\n                                                           class=\"btn btn-approve\">\\n                                                            {{app.constant.Booking.guider_status[app.constant.APPROVAL]|trans}}\\n                                                        </a>\\n                                                        <a *ngIf=\"app.constant.Booking.guider_status[fb.form.value[\\'guider_status\\']] && fb.form.value[\\'guider_status\\'] != app.constant.NOT_YET \"\\n                                                           (click)=\"changeGuiderStatus(fb.form.value[\\'id\\'], \\'guider_status\\', \\'Booking\\', app.constant.NON_APPROVAL)\"\\n                                                           class=\"btn btn-cancel\">\\n                                                            {{app.constant.Booking.guider_status[app.constant.NON_APPROVAL]|trans}}\\n                                                        </a>\\n                                                    </div>\\n                                                </div>\\n                                            </div>--\\x3e\\n                                            \\x3c!--<div *ngIf=\"(fb.form.value[\\'status\\'] == app.constant.AFTER_EXECUTE)\\n                                                    && (fb.form.value[\\'guider_status_go\\'] == app.constant.TRUE\\n                                                    || fb.form.value[\\'guider_status_not_go\\'] == app.constant.TRUE\\n                                                    || fb.form.value[\\'traveler_status_go\\'] == app.constant.TRUE\\n                                                    || fb.form.value[\\'traveler_status_not_go\\'] == app.constant.TRUE)\">--\\x3e\\n                                            <div *ngIf=\"fb.form.value[\\'is_already\\'] == true && fb.form.value[\\'status\\'] == app.constant.AFTER_EXECUTE || fb.form.value[\\'status\\'] == app.constant.REQUEST_REVIEW || fb.form.value[\\'status\\'] == app.constant.REVIEWED\">\\n                                                <div class=\"form-group\">\\n                                                    <label class=\"col-md-2 control-label\"><strong>{{\\'Approval state\\'|trans}}</strong></label>\\n                                                </div>\\n                                                <div class=\"form-group\">\\n                                                    <label class=\"col-md-2 control-label\">{{\\'User approval\\'|trans}}</label>\\n                                                    <div class=\"col-md-8\">\\n                                                        <label class=\"control-label\">\\n                                                            <select class=\"form-control selection-width\"\\n                                                                    disabled=\"\\'disabled\\'\">\\n                                                                <option *ngIf=\"fb.form.value[\\'traveler_status_go\\'] == app.constant.FALSE\">{{\\'Not yet\\'|trans}}</option>\\n                                                                <option *ngIf=\"fb.form.value[\\'traveler_status_go\\'] == app.constant.TRUE\">{{\\'Approval\\'|trans}}</option>\\n                                                            </select>\\n                                                        </label>\\n                                                        <label>\\n                                                            <a *ngIf=\"fb.form.value[\\'traveler_status_not_go\\'] == app.constant.TRUE\" class=\"btn btn-default btn-primary button-orange\">{{\\'Non-approval\\'|trans}}</a>\\n                                                        </label>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\"form-group\">\\n                                                    <label class=\"col-md-2 control-label\">{{\\'Guide approval\\'|trans}}</label>\\n                                                    <div class=\"col-md-8\">\\n                                                        <label class=\"control-label\">\\n                                                            <select class=\"form-control selection-width\" disabled=\"\\'disabled\\'\">\\n                                                                <option *ngIf=\"fb.form.value[\\'guider_status_go\\'] == app.constant.FALSE\">{{\\'Not yet\\'|trans}}</option>\\n                                                                <option *ngIf=\"fb.form.value[\\'guider_status_go\\'] == app.constant.TRUE\">{{\\'Approval\\'|trans}}</option>\\n                                                            </select>\\n                                                        </label>\\n                                                        <label>\\n                                                            <a *ngIf=\"fb.form.value[\\'guider_status_not_go\\'] == app.constant.TRUE\" class=\"btn btn-default btn-primary button-orange\">{{\\'Non-approval\\'|trans}}</a>\\n                                                        </label>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\"form-group\">\\n                                                    <label class=\"col-md-2 control-label\"><strong>{{\\'Post review\\'|trans}}</strong></label>\\n                                                </div>\\n                                                <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n                                                    <label class=\"col-md-2 control-label\">{{\\'User Reviews\\'|trans}}</label>\\n                                                    <div class=\"col-md-8\" *ngIf=\"fb.form.value[\\'booking_reviews\\']\">\\n                                                        <div class=\"rating text-status\" *ngFor=\"let item of fb.form.value[\\'booking_reviews\\']\">\\n                                                            <ul class=\"content-list__score\">\\n                                                                <li class=\"is-active\" *ngFor=\" let item of rating(item.point)\">\\n                                                                    <i *ngIf=\"item.key\" class=\"fa fa-star\" aria-hidden=\"true\"></i>\\n                                                                    <i *ngIf=\"!item.key\" class=\"fa fa-star-o\" aria-hidden=\"true\"></i>\\n                                                                </li>\\n                                                            </ul>\\n                                                            <p *ngIf=\"item.point\">{{item.point | number:\\'1.1-2\\'}}</p>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div *ngIf=\"fb.form.value[\\'booking_reviews\\']\">\\n                                                    <div class=\"form-group\">\\n                                                        <div class=\"col-md-12\" *ngFor=\"let item of fb.form.value[\\'booking_reviews\\']; let i = index\">\\n                                                            <div *ngIf=\"item.status == app.constant.BOOKING_REVIEW_CONFIRM\" class=\"col-md-12\" style=\"margin-bottom: 20px\">\\n                                                                <label class=\"col-md-2 control-label\"></label>\\n                                                                <div class=\"col-md-10 booking-block\">\\n                                                                    <label class=\"control-label label-msg\">\\n                                                                        <pre class=\"pre-text\">{{item.content}}</pre>\\n                                                                        <div class=\"text-align-left\">\\n                                                                            <a class=\"btn btn-approve\" (click)=\"changeStatusApprovalReviewBooking(item.id)\">{{app.constant.Booking.guider_status[app.constant.APPROVAL]|trans}}</a>\\n                                                                            <a class=\"btn btn-cancel\"  id=\"btn-cancel-review-booking\">{{app.constant.Booking.guider_status[app.constant.NON_APPROVAL]|trans}}</a>\\n                                                                        </div>\\n                                                                    </label>\\n                                                                </div>\\n                                                            </div>\\n                                                            <div class=\"form-group\" *ngIf=\"item.status == app.constant.BOOKING_REVIEW_APPROVAL\">\\n                                                                <label class=\"col-md-2 control-label\"></label>\\n                                                                <div class=\"col-md-10 booking-block\">\\n                                                                    <label class=\"control-label label-msg\">\\n                                                                        <label style=\"margin-bottom: 10px;\">{{item.content}}</label>\\n                                                                    </label>\\n                                                                </div>\\n                                                                <label class=\"col-md-2 control-label\">{{\\'Approved by Admin\\'|trans}}</label>\\n                                                                <div class=\"col-md-8 content-message__style\">\\n                                                                    <span class=\"content-message__date\">{{item.created_at|datex: \\'YYYY/MM/DD HH:mm:ss\\'}}</span>\\n                                                                    <div class=\"content-message__box content-message__box--blue\">\\n                                                                        {{item.content}}\\n                                                                    </div>\\n                                                                </div>\\n                                                            </div>\\n                                                            <div *ngIf=\"item.status == app.constant.BOOKING_REVIEW_NON_APPROVAL\" class=\"col-md-12\" style=\"margin-bottom: 20px\">\\n                                                                <label class=\"col-md-2 control-label\"></label>\\n                                                                <div class=\"col-md-10 booking-block\">\\n                                                                    <label class=\"control-label label-msg\">\\n                                                                        <label style=\"margin-bottom: 10px;\">{{item.content}}</label>\\n                                                                    </label>\\n                                                                </div>\\n                                                                <label class=\"col-md-2 control-label\">{{\\'Reject by Admin\\'|trans}}</label>\\n                                                                <div class=\"col-md-8 content-message__style\">\\n                                                                    <span class=\"content-message__date\">{{item.updated_at}}</span>\\n                                                                    <div class=\"content-message__box content-message__box--blue\"  *ngIf=\"item.user_comment\">\\n                                                                        {{item.user_comment}}\\n                                                                    </div>\\n                                                                </div>\\n                                                            </div>\\n                                                            <div class=\"col-md-12\" id=\"user-comment\" style=\"display: none\">\\n                                                                <label class=\"col-md-2 booking-block control-label\"><span>{{\\'Reason of un-approved\\'|trans}}</span></label>\\n                                                                <div class=\"col-md-10 booking-block\">\\n                                                                    <label class=\"control-label\">\\n                                                                        <textarea id=\"user_comment\" style=\"margin: 0px; width: 692px; height: 141px;\" cols=\"150\" rows=\"8\">{{item.user_comment}}</textarea>\\n                                                                    </label>\\n                                                                </div>\\n                                                                <div class=\"col-md-12 button-submit-review\">\\n                                                                    <button (click)=\"changeStatusNonApproveReviewBooking(item.id)\" class=\"btn btn-primary\"><i\\n                                                                            class=\"fa\"></i> {{\\'Register review\\'|trans}}\\n                                                                    </button>\\n                                                                </div>\\n                                                            </div>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                \\x3c!--Guider review for user--\\x3e\\n                                                \\x3c!--<div class=\"form-group\" style=\"margin-bottom: 0;\">\\n                                                    <label class=\"col-md-2 control-label\">{{\\'Guider Reviews\\'|trans}}</label>\\n                                                    <div class=\"col-md-8\" *ngIf=\"fb.form.value[\\'member_review\\']\">\\n                                                        <div class=\"rating text-status\">\\n                                                            <ul class=\"content-list__score\">\\n                                                                <li class=\"is-active\" *ngFor=\" let item of rating(fb.form.value[\\'member_review\\'].point)\">\\n                                                                    <i *ngIf=\"item.key\" class=\"fa fa-star\" aria-hidden=\"true\"></i>\\n                                                                    <i *ngIf=\"!item.key\" class=\"fa fa-star-o\" aria-hidden=\"true\"></i>\\n                                                                </li>\\n                                                            </ul>\\n                                                            <p *ngIf=\"fb.form.value[\\'member_review\\'].point\">{{fb.form.value[\\'member_review\\'].point | number:\\'1.1-2\\'}}</p>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>--\\x3e\\n                                                <div style=\"margin-bottom: 0;\">\\n                                                    <label class=\"col-md-2 control-label\">{{\\'Guider Reviews\\'|trans}}</label>\\n                                                    <div class=\"form-group\" *ngIf=\"fb.form.value[\\'member_review\\']\">\\n                                                        <div class=\"col-md-8\">\\n                                                            <div class=\"col-md-12\">\\n                                                                <div class=\"col-md-10 booking-block\">\\n                                                                    <pre class=\"pre-text\">{{fb.form.value[\\'member_review\\'].content}}</pre>\\n                                                                </div>\\n                                                            </div>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </form>\\n                                    </div>\\n                                    \\x3c!--This is content list booking chats--\\x3e\\n                                    <div id=\"content-message\" style=\"display: none;\" *ngIf=\"fb.form.value[\\'booking_chats\\'] != []\">\\n                                        <div class=\"col-md-8 content-message__style\" *ngFor=\"let item of fb.form.value[\\'booking_chats\\']\">\\n                                            <div *ngIf=\"item.member_id == fb.form.value[\\'member_id\\']\">\\n                                                <span class=\"content-message__date\" *ngIf=\"item.created_at\">{{item.created_at|datex: \"YYYY/MM/DD HH:mm:ss\"}}</span>\\n                                                <div class=\"content-message__box content-message__box--blue\">\\n                                                    <pre class=\"content-message__pre-text\">{{item.content}}</pre>\\n                                                </div>\\n                                            </div>\\n                                            <div *ngIf=\"item.member_id != fb.form.value[\\'member_id\\']\">\\n                                                <span class=\"content-message__date content-message__date--right\" *ngIf=\"item.created_at\">{{item.created_at|datex: \"YYYY/MM/DD HH:mm:ss\"}}</span>\\n                                                <div class=\"content-message__box content-message__box--orange\">\\n                                                    <pre class=\"content-message__pre-text\" *ngIf=\"item.member_id != fb.form.value[\\'member_id\\']\">{{item.content}}</pre>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n\\n                                <div class=\"form-actions\">\\n                                    <div class=\"row\">\\n                                        <div class=\"col-md-12 button-back\">\\n                                            <button [routerLink]=\\'[\"/admin/booking\"]\\' class=\"btn btn-primary\"><i\\n                                                    class=\"fa\"></i> {{\\'Back to list\\'|trans}}\\n                                            </button>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </form>\\n                        </div>\\n                    </div>\\n                </div>\\n            </article>\\n        </div>\\n    </section>\\n</div>'},bRBc:function(n,a,t){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var e,s,o,l=t(\"3j3K\"),i=t(\"2Je8\"),r=t(\"SX/m\"),c=t(\"5oXY\"),p=t(\"yZ7X\"),d=t(\"HGLA\"),m=this&&this.__decorate||function(n,a,t,e){var s,o=arguments.length,l=o<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,t):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(n,a,t,e);else for(var i=n.length-1;i>=0;i--)(s=n[i])&&(l=(o<3?s(l):o>3?s(a,t,l):s(a,t))||l);return o>3&&l&&Object.defineProperty(a,t,l),l},u=this&&this.__metadata||function(n,a){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(n,a)},b=function(){function n(n,a,t){this.app=n,this.route=a,this.router=t,this.listMembers={},this.listGuiders={},this.listUsers={},this.bookings={data:[]},this.curDate=new Date,this.params={date_plan_from:\"\",date_plan_to:\"\",date_actual_from:\"\",date_actual_to:\"\",member_name:\"\",email:\"\",status:[],guider_status:[],user_status:[],payment_status:[],classification:[],sort:\"id\",direction:\"desc\",page:1,is_download:!1},this.is_search=!1}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.route.params.subscribe(function(a){n.params.page=a.page?a.page:1,n.search(!1)}),this.getListMembers(),this.getListGuiders(),this.getListUsers(),t.e(47).then(t.bind(null,\"Qxic\")).then(function(){$(document).ready(function(){$(\".datepicker\").datepicker({dateFormat:\"yy/mm/dd\"})})})},n.prototype.getListMembers=function(){var n=this;this.app.get(\"members\",{type:this.app.constant.MEMBER_USER}).then(function(a){200==a.status&&(n.listMembers=n.app.arrToList(a.json().data,\"id\",\"name\"))})},n.prototype.getListGuiders=function(){var n=this;this.app.get(\"members\",{type:this.app.constant.MEMBER_GUIDER}).then(function(a){200==a.status&&(n.listGuiders=n.app.arrToList(a.json().data,\"id\",\"name\"))})},n.prototype.getListUsers=function(){var n=this;this.app.get(\"users\").then(function(a){200==a.status&&(n.listUsers=n.app.arrToList(a.json().data,\"id\",\"username\"))})},n.prototype.reset=function(){this.params={date_plan_from:\"\",date_plan_to:\"\",date_actual_from:\"\",date_actual_to:\"\",member_name:\"\",email:\"\",sort:\"\",classification:[],user_status:[],guider_status:[],status:[],payment_status:[],direction:\"\",page:1,is_download:!1},$('[name=\"date_plan_from\"]').val(\"\"),$('[name=\"date_plan_to\"]').val(\"\"),$('[name=\"date_actual_from\"]').val(\"\"),$('[name=\"date_actual_to\"]').val(\"\"),$(\".checkbox-status\").prop(\"checked\",!1)},n.prototype.onChangeClassification=function(n){var a=n.target.value;this.params.classification.includes(a)?this.params.classification.splice(this.params.status.indexOf(a),1):this.params.classification.push(a)},n.prototype.onChangeStatus=function(n){var a=n.target.value;this.params.status.includes(a)?(this.params.status.splice(this.params.status.indexOf(a),1),4==a&&this.params.status.splice(this.params.status.indexOf(this.app.constant.REVIEWED),1)):(this.params.status.push(a),4==a&&this.params.status.push(this.app.constant.REVIEWED))},n.prototype.onChangeUserStatus=function(n){var a=n.target.value;this.params.user_status.includes(a)?this.params.user_status.splice(this.params.user_status.indexOf(a),1):this.params.user_status.push(a)},n.prototype.onChangeGuiderStatus=function(n){var a=n.target.value;this.params.guider_status.includes(a)?this.params.guider_status.splice(this.params.guider_status.indexOf(a),1):this.params.guider_status.push(a)},n.prototype.onChangePaymentStatus=function(n){var a=n.target.value;this.params.payment_status.includes(a)?this.params.payment_status.splice(this.params.payment_status.indexOf(a),1):this.params.payment_status.push(a)},n.prototype.changeSort=function(n){this.params.sort==n?this.params.direction=\"asc\"==this.params.direction?\"desc\":\"asc\":(this.params.sort=n,this.params.direction=\"desc\"),this.search(!1)},n.prototype.search=function(n){var a=this;void 0===n&&(n=!0),this.is_search=0!=n||n,this.params.date_plan_from=$('[name=\"date_plan_from\"]').val(),this.params.date_plan_to=$('[name=\"date_plan_to\"]').val(),this.params.date_actual_from=$('[name=\"date_actual_from\"]').val(),this.params.date_actual_to=$('[name=\"date_actual_to\"]').val();var t=(new Date).toISOString().slice(0,10);\"\"!=this.params.date_plan_from&&\"\"!=this.params.date_plan_to&&this.params.date_plan_from>this.params.date_plan_to||\"\"!=this.params.date_actual_from&&\"\"!=this.params.date_actual_to&&this.params.date_actual_from>this.params.date_actual_to?alert(this.app.trans(\"The end date is needing bigger than the start date\")):this.app.get(\"bookings\",this.params).then(function(e){for(var s in a.bookings=e.json().data,console.log(a.bookings),a.bookings.data){var o=a.app.datex(a.bookings.data[s].date_actual,\"YYYY-MM-DD\");a.bookings.data[s].date_actual&&t>=o?a.bookings.data[s].is_already=!0:a.bookings.data[s].is_already=!1}1==n&&a.router.navigate([\"/admin/booking\"])})},n.prototype.downloadCsv=function(){var n=this,a=[{booking_id:this.app.trans(\"Booking ID\"),crated_at:this.app.trans(\"Created at\"),name:this.app.trans(\"Name\"),number_people:this.app.trans(\"Number people\"),amount:this.app.trans(\"Amount\"),experience_date:this.app.trans(\"Experience date\"),guider:this.app.trans(\"Guider\"),message:this.app.trans(\"Message\"),implementation:this.app.trans(\"Implementation\"),user_approval:this.app.trans(\"User approval\"),guider_approval:this.app.trans(\"Guide approval\"),reviews:this.app.trans(\"Reviews\"),payment_status:this.app.trans(\"Payment status\"),classification:this.app.trans(\"Classification\")}];this.params.is_download=!0,this.app.get(\"bookings\",this.params).then(function(t){if(200==t.status){var e=t.json().data;for(var s in e){var o=e[s],l=\"\",i=\"\",r=\"\";o.traveler_status_go==n.app.constant.FALSE&&o.traveler_status_not_go==n.app.constant.FALSE?l=n.app.trans(\"Not yet\"):o.traveler_status_go==n.app.constant.TRUE&&o.traveler_status_not_go==n.app.constant.FALSE?l=n.app.trans(\"Approval\"):o.traveler_status_not_go==n.app.constant.TRUE&&o.traveler_status_go==n.app.constant.FALSE&&(l=n.app.trans(\"Non-approval\")),o.guider_status_go==n.app.constant.FALSE&&o.guider_status_not_go==n.app.constant.FALSE?i=n.app.trans(\"Not yet\"):o.guider_status_go==n.app.constant.TRUE&&o.guider_status_not_go==n.app.constant.FALSE?i=n.app.trans(\"Approval\"):o.guider_status_not_go==n.app.constant.TRUE&&o.guider_status_go==n.app.constant.FALSE&&(i=n.app.trans(\"Non-approval\")),o.booking_reviews_status!=n.app.constant.FALSE||o.booking_reviews_user_id?o.booking_reviews_status==n.app.constant.FALSE&&o.booking_reviews_user_id?r=n.app.trans(\"Non-approval\"):o.status==n.app.constant.REVIEWED&&(r=n.app.trans(\"Approved\")):r=n.app.trans(\"Approval\"),a.push({booking_id:n.app.addFixedId(o.id,\"Y\"),crated_at:n.app.datex(o.date_plan,\"YYYY/MM/DD\"),name:o.member_name,number_people:o.number_people,amount:n.app.constant.Currency_unit[o.amount_unit]?n.app.constant.Currency_unit[o.amount_unit]+o.amount:o.amount,experience_date:n.app.datex(o.date_actual,\"YYYY/MM/DD\"),guider:n.listGuiders[o.plan_member_id]?n.listGuiders[o.plan_member_id]:\"\",message:o.num_comments?o.num_comments:\"\",implementation:n.app.constant.Booking.status[o.status]?n.app.trans(n.app.constant.Booking.status[o.status]):\"\",user_approval:l,guider_approval:i,reviews:r,payment_status:n.app.constant.Booking.guider_payment[o.castposts_status]?n.app.trans(n.app.constant.Booking.guider_payment[o.castposts_status]):\"\",classification:o.plans&&o.plans.request_id?n.app.trans(n.app.constant.REQUEST_RESERVATION):n.app.trans(n.app.constant.BOOK_RESERVATION)})}new d.Angular2Csv(a,\"bookings\",{fieldSeparator:\",\",quoteStrings:'\"',decimalseparator:\".\",showLabels:!0,showTitle:!0,title:\"\",useBom:!0})}})},n}();b=m([Object(l.Component)({selector:\"list\",template:t(\"5aKO\"),styles:[t(\"PBXL\")]}),u(\"design:paramtypes\",[\"function\"==typeof(e=\"undefined\"!=typeof p.a&&p.a)&&e||Object,\"function\"==typeof(s=\"undefined\"!=typeof c.a&&c.a)&&s||Object,\"function\"==typeof(o=\"undefined\"!=typeof c.c&&c.c)&&o||Object])],b);var f,g,v,_=t(\"B8ED\"),h=this&&this.__decorate||function(n,a,t,e){var s,o=arguments.length,l=o<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,t):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(n,a,t,e);else for(var i=n.length-1;i>=0;i--)(s=n[i])&&(l=(o<3?s(l):o>3?s(a,t,l):s(a,t))||l);return o>3&&l&&Object.defineProperty(a,t,l),l},k=this&&this.__metadata||function(n,a){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(n,a)},x=function(){function n(n,a,t){this.app=n,this.route=a,this.router=t,this.data={id:\"\",plan_id:\"\",date_plan:\"\",name:\"\",introduction:\"\",address:\"\",number_people:\"\",amount:\"\",amoun_unit:\"\",date_actual:\"\",member_id:\"\",num_comments:\"\",status:\"\",user_id:\"\",guider_status:\"\",review_status:\"\",payment_status:\"\",room_status:\"\",rating:\"\",rate:\"\",cancel_rate:\"\",gender:0,email:\"\",phone:\"\",phone_code:\"\",country_id:0,prefecture_id:\"\",customer_address:\"\",customer_name:\"\",customer_email:\"\",guider_status_go:0,guider_status_not_go:0,traveler_status_go:0,traveler_status_not_go:0,is_already:!1,notify_one_day:!1,customer_languages:[],plans:{guiders:{languages:[]},plan_reviews:[],plan_translates:[],id:\"\"},members:{},booking_reviews:[],booking_chats:[],member_review:[],created_at:\"\"},this.listMembers={},this.listGuiders={},this.listUsers={},this.listCountries={},this.listPrefecture={},this.listLanguages={}}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.fb=new _.a(this.app,this.data),this.route.params.subscribe(function(a){a.id&&(n.fb.isNew=!1,n.fb.bindData(\"bookings/detail\",{id:a.id}))}),$(document).on(\"click\",\"#btn-cancel-review-booking\",function(){$(\"#user-comment\").show()}),this.getListGuiders(),this.getListMembers(),this.getListCountries(),this.getListPrefecture(),this.getLisLanguages()},n.prototype.getListMembers=function(){var n=this;this.app.get(\"members\",{type:1}).then(function(a){200==a.status&&(n.listMembers=n.app.arrToList(a.json().data,\"id\",\"name\"))})},n.prototype.getListGuiders=function(){var n=this;this.app.get(\"members\",{type:2}).then(function(a){200==a.status&&(n.listGuiders=n.app.arrToList(a.json().data,\"id\",\"name\"))})},n.prototype.getListUsers=function(){var n=this;this.app.get(\"users\").then(function(a){200==a.status&&(n.listUsers=n.app.arrToList(a.json().data,\"id\",\"username\"))})},n.prototype.getListPrefecture=function(){var n=this;this.app.get(\"prefectures/backend_lists\").then(function(a){200==a.status&&(n.listPrefecture=n.app.arrToList(a.json().data,\"id\",\"display_name\"))})},n.prototype.getListCountries=function(){var n=this;this.app.get(\"countries\").then(function(a){200==a.status&&(n.listCountries=n.app.arrToList(a.json().data,\"id\",\"display_name\"))})},n.prototype.getLisLanguages=function(){var n=this;this.app.get(\"languages\").then(function(a){200==a.status&&(n.listLanguages=n.app.arrToList(a.json().data,\"id\",\"display_name\"))})},n.prototype.clickButton=function(n){void 0===n&&(n=1),1==n?($(\"#content-information\").show(),$(\"#content-message\").hide(),$(\"#information-button\").addClass(\"btn-primary\"),$(\"#message-button\").removeClass(\"btn-primary\"),$(\"#message-button\").addClass(\"btn-default\")):($(\"#content-information\").hide(),$(\"#content-message\").show(),$(\"#information-button\").removeClass(\"btn-primary\"),$(\"#information-button\").addClass(\"btn-default\"),$(\"#message-button\").addClass(\"btn-primary\"))},n.prototype.changeStatusApprovalReviewBooking=function(n){var a=this;confirm(this.app.trans(\"Are you sure to change status\"))&&this.app.post(\"booking_reviews/approval\",{review_id:n}).then(function(n){200==n.status&&(a.route.params.subscribe(function(n){n.id&&(a.fb.isNew=!1,a.fb.bindData(\"bookings/detail\",{id:n.id}))}),alert(a.app.trans(\"You have successfully changed your status\")))})},n.prototype.changeStatusNonApproveReviewBooking=function(n){var a=this;this.review=$(\"#user_comment\").val(),this.app.post(\"booking_reviews/reject\",{review_id:n,user_comment:this.review}).then(function(n){200==n.status&&(a.route.params.subscribe(function(n){n.id&&(a.fb.isNew=!1,a.fb.bindData(\"bookings/detail\",{id:n.id}))}),alert(a.app.trans(\"You have successfully changed your status\")))})},n.prototype.changeStatus=function(n,a,t,e){var s=this;confirm(this.app.trans(\"Are you sure to change status\"))&&this.app.post(\"updateFieldBackend\",{valueKey:n,column:a,model:t,valueColumnChange:e}).then(function(n){200==n.status&&(s.fb.form.value.status=parseInt(e),console.log(s.fb.form.value.status))})},n.prototype.rating=function(n){for(var a=Math.ceil(n),t=[],e=1;e<=5;e++){var s=!0;e>a&&(s=!1),t.push({key:s})}return t},n}(),y=[{path:\"\",data:{pageTitle:\"Booking\"},children:[{path:\"\",component:b},{path:\"form\",component:x=h([Object(l.Component)({selector:\"booking-form\",template:t(\"X/Cf\"),styles:[t(\"/hCg\")]}),k(\"design:paramtypes\",[\"function\"==typeof(f=\"undefined\"!=typeof p.a&&p.a)&&f||Object,\"function\"==typeof(g=\"undefined\"!=typeof c.a&&c.a)&&g||Object,\"function\"==typeof(v=\"undefined\"!=typeof c.c&&c.c)&&v||Object])],x)},{path:\"form/:id\",component:x}]}],E=c.d.forChild(y),I=t(\"fAE3\"),w=t(\"NVOs\");t.d(a,\"BookingModule\",function(){return A});var R=this&&this.__decorate||function(n,a,t,e){var s,o=arguments.length,l=o<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,t):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(n,a,t,e);else for(var i=n.length-1;i>=0;i--)(s=n[i])&&(l=(o<3?s(l):o>3?s(a,t,l):s(a,t))||l);return o>3&&l&&Object.defineProperty(a,t,l),l},A=function(){return function(){}}();A=R([Object(l.NgModule)({imports:[i.CommonModule,E,r.a,I.a,w.b,w.e],declarations:[b,x]})],A)}});","extractedComments":[]}