{"code":"webpackJsonp([37],{GMb9:function(t,n,a){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e,o,r,i,l=a(\"3j3K\"),s=a(\"2Je8\"),d=a(\"5oXY\"),c=a(\"yZ7X\"),m=a(\"g7A0\"),f=a(\"B8ED\"),b=this&&this.__decorate||function(t,n,a,e){var o,r=arguments.length,i=r<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,a):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(t,n,a,e);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(r<3?o(i):r>3?o(n,a,i):o(n,a))||i);return r>3&&i&&Object.defineProperty(n,a,i),i},v=this&&this.__metadata||function(t,n){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,n)},p=function(){function t(t,n,a,e){this.app=t,this.route=n,this.router=a,this.upload=e,this.data_error=[],this.data={id:\"\",type:1,rate:\"\",active:1},this.dataItem={id:\"\",type:2,from_day:\"\",to_day:\"\",cancel_rate:\"\",from_day_err:\"\",to_day_err:\"\",cancel_err:\"\",active:1}}return t.prototype.ngOnInit=function(){var t=this;this.fb=new f.a(this.app,this.data),this.app.get(\"commission\",{}).then(function(n){200===n.status&&(t.rate=n.json().data[0].rate)}),this.fb.initChild(\"data_item\",this.dataItem),this.fb.bindData(\"commission\",{})},t.prototype.save=function(t){var n=this;this.fb.form.value.rate=$(\"#rate\").val(),this.showRate=$(\"#rate\").val(),this.fb.form.value.form_confirm=t,this.app.post(\"commission/save\",this.fb.form.value).then(function(a){200===a.status?t?$(\"#formConfirm\").modal(\"show\"):($(\"#formConfirm\").modal(\"hide\"),n.app.adminFlashSuccess(n.app.trans(\"Data has been saved\"),!0),n.router.navigate([\"admin/commission/form\"]),n.data_error=[]):n.data_error=a.json()})},t}(),u=[{path:\"\",data:{pageTitle:\"Commission\"},children:[{path:\"form\",component:p=b([Object(l.Component)({selector:\"admin-commission-form\",styles:[a(\"k8TY\")],template:a(\"vYwi\")}),v(\"design:paramtypes\",[\"function\"==typeof(e=\"undefined\"!=typeof c.a&&c.a)&&e||Object,\"function\"==typeof(o=\"undefined\"!=typeof d.a&&d.a)&&o||Object,\"function\"==typeof(r=\"undefined\"!=typeof d.c&&d.c)&&r||Object,\"function\"==typeof(i=\"undefined\"!=typeof m.a&&m.a)&&i||Object])],p)}]}],g=d.d.forChild(u),h=a(\"SX/m\"),_=a(\"NVOs\"),y=a(\"fAE3\");a.d(n,\"CommissionModule\",function(){return w});var x=this&&this.__decorate||function(t,n,a,e){var o,r=arguments.length,i=r<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,a):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(t,n,a,e);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(r<3?o(i):r>3?o(n,a,i):o(n,a))||i);return r>3&&i&&Object.defineProperty(n,a,i),i},w=function(){return function(){}}();w=x([Object(l.NgModule)({imports:[s.CommonModule,g,h.a,_.b,_.e,y.a],exports:[],providers:[],declarations:[p]})],w)},k8TY:function(t,n){t.exports=\"\\n.date-time {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n}\\n\\n.date-time .control-label {\\n    padding: 0;\\n    width: 140px;\\n}\\n\\n.text-left {\\n    text-align: left;\\n}\\n\\n.margin-right {\\n    margin-right: 15px;\\n}\\n\\n.btn-danger {\\n    background-color: #a90329;\\n    border-color: #900323;\\n}\\n\\n.icon-button__red {\\n    background: #a90329;\\n}\\n\\n.text {\\n    width: 125px;\\n}\\n\\n.widt-col {\\n    width: 136px;\\n    padding: 0;\\n    padding-right: 10px;\\n}\\n\\n.title-date {\\n    font-size: 13px;\\n    font-weight: bold;\\n    text-transform: capitalize;\\n    margin: 0;\\n    margin-top: 30px;\\n}\\n\\n.msg_err {\\n    display: block;\\n    margin-top: 5px;\\n    margin-bottom: 10px;\\n    color: #737373;\\n}\\n\\n.row {\\n    margin-left: 0;\\n    margin-right: 0;\\n}\\n\\n.msg_err {\\n    color: #b94a48\\n}\\n\\n.form-group{\\n    margin-left: 0px;\\n    margin-right: 0px;\\n}\\n\\n.form__input {\\n    padding: 0;\\n}\\n\\n.form__label label {\\n    text-align: left;\\n    line-height: 32px;\\n}\"},vYwi:function(t,n){t.exports='<div id=\"content\">\\n  <div class=\"row\">\\n    <sa-big-breadcrumbs [items]=\"[[\\'Master management\\'|trans],[\\'Basic setting\\'|trans]]\" icon=\"plus-square\"\\n                        class=\"col-xs-12\"></sa-big-breadcrumbs>\\n  </div>\\n\\n  <section id=\"widget-grid\" class=\"\">\\n    <div class=\"row\">\\n      <article class=\"col-sm-12 col-md-12\">\\n        <div class=\"jarviswidget jarviswidget-sortable jarviswidget-color-blueDark\" id=\"wid-id-0\" data-widget-colorbutton=\"false\" data-widget-editbutton=\"false\" role=\"widget\">\\n          <header role=\"heading\">\\n            <div class=\"jarviswidget-ctrls\" role=\"menu\">\\n              <a href=\"javascript:void(0);\" class=\"button-icon jarviswidget-fullscreen-btn\" rel=\"tooltip\" title=\"\" data-placement=\"bottom\" data-original-title=\"Fullscreen\"><i class=\"fa fa-expand \"></i></a>\\n            </div>\\n            <span class=\"widget-icon\"> <i class=\"fa fa-table\"></i> </span>\\n            <h2>{{\\'Basic setting\\'|trans}}</h2>\\n          </header>\\n          <div role=\"content\">\\n            <div class=\"jarviswidget-editbox\">\\n            </div>\\n            <div class=\"widget-body\">\\n              <form [formGroup]=\"fb.form\" class=\"form-horizontal\" (ngSubmit)=\"save(true)\">\\n                <fieldset>\\n                  \\x3c!--{{fb.form.[\\'rate\\']|json}}--\\x3e\\n                  <div class=\"form-group\">\\n                      <label class=\"text col-md-2 control-label\">{{\\'Commission rate\\'|trans}} </label>\\n                    <div class=\"col-md-4\">\\n                      <input formControlName=\"rate\" id=\"rate\" [value]=\"rate\" placeholder=\"{{\\'Commission rate\\'|trans}}\" class=\"form-control\">\\n                    </div>\\n                    <label class=\"text-left control-label\">%</label>\\n                    <h3 class=\"title-date col-md-12\" style=\"text-align: left\">{{\\'Cancellation Charge\\'|trans}} </h3>\\n                  </div>\\n                </fieldset>\\n                <fieldset>\\n                  <div class=\"form-group\">\\n                    <div *ngIf=\"fb.form.value.data_item.length > 0\">\\n                        <div formArrayName=\"data_item\">\\n                          <div *ngFor=\"let item of fb.form.controls.data_item.controls; let i = index;\">\\n                            <div [formGroupName]=\"i\" class=\"form-group\">\\n                              <div [formGroup]=\"fb.form.controls.data_item.controls[i]\" id=\"add\">\\n                                <label style=\"line-height: 30px;    text-align: center;\" class=\"col-md-2 control-label\">{{\\'From implement day\\'|trans}} </label>\\n\\n                                <div class=\"form-group date-time col-md-10\">\\n                                  <div>\\n                                    <div class=\"row\">\\n                                      <div class=\"col-md-6 form__input\">\\n                                        <input formControlName=\"from_day\" id=\"from_day\" placeholder=\"{{\\'From before day\\'|trans}}\" class=\"form-control\">\\n                                      </div>\\n                                      <div class=\"col-sm-6 form__label\"><label class=\"col-md-2 control-label\">{{\\'From before day\\'|trans}} </label></div>\\n                                    </div>\\n                                    <small class=\"msg_err\" *ngIf=\"data_error && data_error[i] && data_error[i].from_day_err\">{{data_error[i].from_day_err|trans}}</small>\\n                                  </div>\\n                                  <div>\\n                                    <div class=\"row\">\\n                                      <div class=\"col-sm-6 form__input\"><input formControlName=\"to_day\" placeholder=\"{{\\'To before day\\'|trans}}\" class=\"form-control\"></div>\\n                                      <div class=\"col-sm-6 form__label\"><label class=\"col-md-2 control-label\">{{\\'To before day\\'|trans}} </label></div>\\n                                    </div>\\n                                    <small class=\"msg_err\" *ngIf=\"data_error && data_error[i] && data_error[i].to_day_err\">{{data_error[i].to_day_err|trans}}</small>\\n                                  </div>\\n                                  <div>\\n                                    <div class=\"row\">\\n                                      <div class=\"col-sm-6 form__input\"><input formControlName=\"cancel_rate\" placeholder=\"{{\\'Rate cancel\\'|trans}}\" class=\"form-control\"></div>\\n                                      <div class=\"col-sm-6 form__label\"><label class=\"text-left\">%</label></div>\\n                                    </div>\\n                                     <small class=\"msg_err\" *ngIf=\"data_error && data_error[i] && data_error[i].cancel_err\">{{data_error[i].cancel_err|trans}}</small>\\n                                  </div>\\n                                  <div class=\"col-md-1 control-label text-left\">\\n                                    <i *ngIf=\"i>0\" class=\"icon-button fa fa-trash-o btn btn-danger\" (click)=\"fb.removeItem(\\'data_item\\',i)\" aria-hidden=\"true\"></i>\\n                                  </div>\\n                                </div>\\n                              </div>\\n                            </div>\\n                          </div>\\n                        </div>\\n                    </div>\\n                       <div class=\"form-group\">\\n                          <div class=\"col-md-1 control-label\">\\n                            <i class=\"icon-button fa fa-plus btn btn-default\" (click)=\"fb.addItem(\\'data_item\\')\" aria-hidden=\"true\"></i>\\n                          </div>\\n                        </div>\\n                  </div>\\n                </fieldset>\\n                <div class=\"form-actions\">\\n                  <div class=\"row\">\\n                    <div class=\"col-md-12\">\\n                      <a class=\"btn btn-default\" [routerLink]=\\'[\"/admin/commission/form\"]\\' type=\"button\">{{\\'Cancel\\'|trans}}</a>\\n                      <button class=\"btn btn-primary\" type=\"submit\"><i class=\"\"></i> {{\\'Confirm\\'|trans}}</button>\\n                    </div>\\n                  </div>\\n                </div>\\n              </form>\\n            </div>\\n          </div>\\n        </div>\\n      </article>\\n    </div>\\n  </section>\\n</div>\\n<div class=\"modal fade\" id=\"formConfirm\" aria-hidden=\"true\">\\n  <div class=\"modal-dialog\">\\n    <div class=\"modal-content\">\\n      <div class=\"modal-header\">\\n        <h4 class=\"modal-title\">{{\\'Confirmation basic setting\\'|trans}}</h4>\\n      </div>\\n      <div class=\"modal-body\">\\n        <div class=\"row\">\\n          <div class=\"form-group\">\\n            <label class=\"col-md-4 control-label\"><strong>{{\\'Commission rate\\'|trans}}</strong></label>\\n            <div class=\"col-md-8\">{{showRate}} {{\\'%\\'}}</div>\\n          </div>\\n        </div>\\n        <h3 class=\"title-date col-md-12\" style=\"text-align: left\">{{\\'Cancellation Charge\\'|trans}} </h3><br>\\n        <table  class=\"table table-striped table-bordered table-hover\" >\\n          <thead>\\n            <tr class=\"thead-table\">\\n              <th style=\"background-color:#fafcfd;\"> <span>{{\\'From before day\\'|trans}}</span></th>\\n              <th style=\"background-color:#fafcfd;\"> <span>{{\\'To before day\\'|trans}}</span></th>\\n              <th style=\"background-color:#fafcfd;\"><span>{{\\'Percentage canceled\\'|trans}}</span></th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n          <tr *ngFor=\"let item of fb.form.get(\\'data_item\\').value\">\\n            <td *ngIf=\"item.form_day !==\\'\\'\">{{item.from_day}}</td>\\n            <td *ngIf=\"item.form_day !==\\'\\'\">{{item.to_day}}</td>\\n            <td *ngIf=\"item.form_day !==\\'\\'\">{{item.cancel_rate}}{{\\'%\\'}}</td>\\n          </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"modal-footer\">\\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">{{\\'Cancel\\'|trans}}</button>\\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"save()\">{{\\'Submit\\'|trans}}</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<sa-file-browser></sa-file-browser>'}});","extractedComments":[]}