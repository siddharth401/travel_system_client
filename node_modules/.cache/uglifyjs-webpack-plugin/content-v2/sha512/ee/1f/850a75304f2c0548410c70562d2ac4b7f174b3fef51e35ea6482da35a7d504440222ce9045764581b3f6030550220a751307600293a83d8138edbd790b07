{"code":"webpackJsonp([29],{N7Rn:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,r,s=n(\"3j3K\"),l=n(\"2Je8\"),i=n(\"SX/m\"),o=n(\"NVOs\"),c=n(\"fAE3\"),d=n(\"yZ7X\"),f=n(\"5oXY\"),u=n(\"uy/h\"),p=this&&this.__decorate||function(e,t,n,a){var r,s=arguments.length,l=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(s<3?r(l):s>3?r(t,n,l):r(t,n))||l);return s>3&&l&&Object.defineProperty(t,n,l),l},m=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e,t){this.app=e,this.route=t,this.listCountry={},this.language_id=this.app.getConfig(\"BACKEND_LANG_ID\")}return e.prototype.ngOnInit=function(){this.filter=new u.a(this.app,this.route,\"prefectures\",{language_id:this.language_id}),this.getListCountry()},e.prototype.getListCountry=function(){var e=this;this.app.get(\"countries/list_by_language\",{language_id:this.language_id}).then(function(t){200===t.status&&(e.listCountry=e.app.arrToList(t.json().data,\"id\",\"prefecture_name\"))})},e}();v=p([Object(s.Component)({selector:\"admin-prefecture-list\",template:n(\"xbBS\")}),m(\"design:paramtypes\",[\"function\"==typeof(a=\"undefined\"!=typeof d.a&&d.a)&&a||Object,\"function\"==typeof(r=\"undefined\"!=typeof f.a&&f.a)&&r||Object])],v);var g,b,h,y,_=n(\"g7A0\"),x=n(\"B8ED\"),w=this&&this.__decorate||function(e,t,n,a){var r,s=arguments.length,l=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(s<3?r(l):s>3?r(t,n,l):r(t,n))||l);return s>3&&l&&Object.defineProperty(t,n,l),l},P=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=function(){function e(e,t,n,a){this.app=e,this.route=t,this.router=n,this.upload=a,this.listCountry={},this.languageError=[],this.namePreError=[],this.display_namePreError=[],this.listLanguage={},this.error={},this.language_id=this.app.getConfig(\"BACKEND_LANG_ID\"),this.data={id:\"\",prefix:\"\",order:\"\",country_id:this.app.constant.COUNTRY_DEFAULT,active:1},this.dataLanguage={name:\"\",language_id:\"\",display_name:\"\"}}return e.prototype.ngOnInit=function(){var e=this;this.fb=new x.a(this.app,this.data),this.fb.initChild(\"prefecture_translates\",this.dataLanguage),this.route.params.subscribe(function(t){t.id?(e.fb.isNew=!1,e.fb.bindData(\"prefectures/detail\",{id:t.id})):e.fb.addItem(\"prefecture_translates\")}),this.getListCountry(),this.getListLanguage()},e.prototype.getListCountry=function(){var e=this;this.app.get(\"countries/list_by_language\",{language_id:this.language_id}).then(function(t){200===t.status&&(e.listCountry=e.app.arrToList(t.json().data,\"id\",\"name\"))})},e.prototype.save=function(e){var t=this;this.fb.form.value.form_confirm=e,this.app.post(\"prefectures/save\",this.fb.form.value).then(function(n){if(200===n.status)e?$(\"#formConfirm\").modal(\"show\"):($(\"#formConfirm\").modal(\"hide\"),t.app.adminFlashSuccess(t.app.trans(\"Data has been saved\")),t.router.navigate([\"admin/prefecture\"]));else{t.error=n.json(),t.languageError=[],t.namePreError=[],t.display_namePreError=[];for(var a=0;a<$(\".language_id\").length;a++)t.languageError.push(t.app.trans(n.json()[\"prefecture_translates.\"+a+\".language_id\"]));for(a=0;a<$(\".language_id\").length;a++)t.namePreError.push(t.app.trans(n.json()[\"prefecture_translates.\"+a+\".name\"]));for(a=0;a<$(\".language_id\").length;a++)t.display_namePreError.push(t.app.trans(n.json()[\"prefecture_translates.\"+a+\".display_name\"]))}})},e.prototype.getListLanguage=function(){var e=this;this.app.get(\"languages\",{active:1,is_display:1}).then(function(t){200==t.status&&(e.listLanguage=e.app.arrToList(t.json().data,\"id\",\"name\"))})},e}(),C=[{path:\"\",data:{pageTitle:\"Prefecture\"},children:[{path:\"\",component:v},{path:\"form\",component:j=w([Object(s.Component)({selector:\"admin-prefecture-form\",template:n(\"vP3z\"),styles:[n(\"o0Ij\")]}),P(\"design:paramtypes\",[\"function\"==typeof(g=\"undefined\"!=typeof d.a&&d.a)&&g||Object,\"function\"==typeof(b=\"undefined\"!=typeof f.a&&f.a)&&b||Object,\"function\"==typeof(h=\"undefined\"!=typeof f.c&&f.c)&&h||Object,\"function\"==typeof(y=\"undefined\"!=typeof _.a&&_.a)&&y||Object])],j)},{path:\"form/:id\",component:j}]}],N=f.d.forChild(C);n.d(t,\"PrefectureModule\",function(){return L});var O=this&&this.__decorate||function(e,t,n,a){var r,s=arguments.length,l=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(s<3?r(l):s>3?r(t,n,l):r(t,n))||l);return s>3&&l&&Object.defineProperty(t,n,l),l},L=function(){return function(){}}();L=O([Object(s.NgModule)({imports:[l.CommonModule,N,i.a,o.b,o.e,c.a],exports:[],providers:[],declarations:[j,v]})],L)},o0Ij:function(e,t){e.exports=\".msg_err {\\n    display: block;\\n    margin-top: 5px;\\n    margin-bottom: 10px;\\n    color: #b94a48;\\n}\\n.msg_note{\\n    display: block;\\n    color: #1f496d;\\n}\\n#select-country{\\n    width: 30%;\\n}\"},vP3z:function(e,t){e.exports='<div id=\"content\">\\n  <div class=\"row\">\\n    <sa-big-breadcrumbs [items]=\"[[\\'Master management\\'|trans],[\\'Prefecture management\\'|trans],[\\'Prefecture list\\'|trans, \\'/admin/prefecture\\'],[(fb.isNew?\\'Prefecture add\\':\\'Prefecture detail\\')|trans]]\" icon=\"plus-square\"\\n                        class=\"col-xs-12\"></sa-big-breadcrumbs>\\n\\n  </div>\\n\\n  <section id=\"widget-grid\" class=\"\">\\n    <div class=\"row\">\\n      <article class=\"col-sm-12\">\\n        <div class=\"jarviswidget jarviswidget-sortable\" id=\"wid-id-0\" data-widget-colorbutton=\"false\" data-widget-editbutton=\"false\" role=\"widget\">\\n          <header role=\"heading\">\\n            <div class=\"jarviswidget-ctrls\" role=\"menu\">\\n              <a href=\"javascript:void(0);\" class=\"button-icon jarviswidget-fullscreen-btn\" rel=\"tooltip\" title=\"\" data-placement=\"bottom\" data-original-title=\"Fullscreen\"><i class=\"fa fa-expand \"></i></a>\\n            </div>\\n            <span class=\"widget-icon\"> <i class=\"fa fa-pencil-square-o\"></i> </span>\\n            <h2 *ngIf=\"!fb.isNew\">{{\\'Prefecture detail\\'|trans}}</h2>\\n            <h2 *ngIf=\"fb.isNew\">{{\\'Prefecture add\\'|trans}}</h2>\\n          </header>\\n\\n          <div role=\"content\">\\n            <div class=\"jarviswidget-editbox\">\\n            </div>\\n            <div class=\"widget-body\">\\n              <form [formGroup]=\"fb.form\" class=\"form-horizontal\" (ngSubmit)=\"save(true)\">\\n                <fieldset>\\n                  <div class=\"form-group\" *ngIf=\"fb.isNew == false\">\\n                    <label class=\"col-md-2 control-label\">{{\\'NO\\'|trans}} </label>\\n                    <div class=\"col-md-8\">\\n                      <label style=\"padding-left: 20px;\" class=\"control-label\">  {{fb.form.value[\\'id\\']}}</label>\\n                    </div>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label class=\"col-md-2 control-label\">{{\\'Prefecture country\\'|trans}} <span class=\"text-danger\">*</span></label>\\n                    <div class=\"col-md-8\">\\n                      <select formControlName=\"country_id\" class=\"form-control\" id=\"select-country\">\\n                        <option [value]=\"app.constant.COUNTRY_DEFAULT\" selected>{{\\'Japan\\'|trans}}</option>\\n                      </select>\\n                      <span class=\"msg_note\">{{\\'* Prefecture  management just support for Japan\\' | trans}}</span>\\n                    </div>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label class=\"col-md-2 control-label\">{{\\'Prefecture name\\'|trans}} <span class=\"text-danger\">*</span></label>\\n                    <div class=\"col-md-10\">\\n                      <div *ngIf=\"fb.form.value.prefecture_translates.length > 0\">\\n                        <div formArrayName=\"prefecture_translates\">\\n                          <div *ngFor=\"let item of fb.form.controls.prefecture_translates.controls; let i = index;\">\\n                            <div [formGroupName]=\"i\" class=\"\">\\n                              <div class=\"row\" [formGroup]=\"fb.form.controls.prefecture_translates.controls[i]\">\\n                                <div class=\"col-md-3\">\\n                                  <input formControlName=\"name\"  type=\"text\" placeholder=\"{{\\'Name prefecture\\'|trans}}\" class=\"form-control name\" />\\n                                  <small class=\"msg_err\" *ngIf=\"namePreError\">{{namePreError[i]|trans}}</small>\\n                                  <small class=\"msg_err\" *ngIf=\"error.prefecture_translates\">{{error.prefecture_translates[0]|trans}}</small>\\n                                </div>\\n                                <div class=\"col-md-3\">\\n                                  <input formControlName=\"display_name\"  type=\"text\" placeholder=\"{{\\'Display name\\'|trans}}\" class=\"form-control\" />\\n                                  <small class=\"msg_err\" *ngIf=\"display_namePreError\">{{display_namePreError[i]|trans}}</small>\\n                                </div>\\n                                <div class=\"col-md-3\">\\n                                  <select formControlName=\"language_id\"  class=\"form-control language_id\">\\n                                    <option value=\"\">{{\\'Select Language\\' | trans}}</option>\\n                                    <option *ngFor=\"let item of listLanguage|list\" [value]=\"item.key\" [selected]=\"item.key==fb.form.value.prefecture_translates[i].language_id\">{{item.value}}</option>\\n                                  </select>\\n                                  <small class=\"msg_err\" *ngIf=\"languageError\">{{languageError[i]|trans}}</small>\\n                                  <span class=\"msg_note\">{{\\'* You will need to find the language which corresponds to that country language\\' | trans}}</span>\\n                                </div>\\n                                <div class=\"col-md-1\">\\n                                  <i class=\"fa fa-trash-o btn btn-danger\" *ngIf=\"i!=0\" (click)=\"fb.removeItem(\\'prefecture_translates\\',i)\" aria-hidden=\"true\"></i>\\n                                </div>\\n                              </div>\\n                            </div>\\n                          </div>\\n                        </div>\\n                      </div>\\n                      <div class=\"\">\\n                        <div class=\"col-md-1 control-label text-left\">\\n                          <i class=\"fa fa-plus btn btn-default\" (click)=\"fb.addItem(\\'prefecture_translates\\')\" aria-hidden=\"true\"></i>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label class=\"col-md-2 control-label\">{{\\'Prefix\\'|trans}} <span class=\"text-danger\">*</span></label>\\n                    <div class=\"col-md-8\">\\n                      <input formControlName=\"prefix\" placeholder=\"{{\\'Prefecture prefix\\'|trans}}\" class=\"form-control\">\\n                    </div>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label class=\"col-md-2 control-label\">{{\\'Prefecture order\\'|trans}} <span class=\"text-danger\">*</span></label>\\n                    <div class=\"col-md-8\">\\n                      <input formControlName=\"order\" placeholder=\"{{\\'Order\\'|trans}}\" class=\"form-control\">\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\">\\n                    <label class=\"col-md-2 control-label\">{{\\'Status\\'|trans}}</label>\\n                    <div class=\"col-md-2 text-left\">\\n                      <select formControlName=\"active\" class=\"form-control\">\\n                        <option *ngFor=\"let item of app.constant.Active|list\" [value]=\"item.key\" [selected]=\"item.key==1\" >{{item.value|trans}}</option>\\n                      </select>\\n                    </div>\\n                  </div>\\n                </fieldset>\\n                <div class=\"form-actions\">\\n                  <div class=\"row\">\\n                    <div class=\"col-md-12\">\\n                      <a class=\"btn btn-default\" [routerLink]=\\'[\"/admin/prefecture\"]\\' type=\"button\">{{\\'Cancel\\'|trans}}</a>\\n                      <button class=\"btn btn-primary\" type=\"submit\"><i class=\"\"></i> {{\\'Submit\\'|trans}}</button>\\n                    </div>\\n                  </div>\\n                </div>\\n              </form>\\n            </div>\\n          </div>\\n        </div>\\n      </article>\\n    </div>\\n  </section>\\n</div>\\n\\n<div class=\"modal fade\" id=\"formConfirm\" aria-hidden=\"true\">\\n  <div class=\"modal-dialog\">\\n    <div class=\"modal-content\">\\n      <div class=\"modal-header\">\\n        <h4 class=\"modal-title\">{{\\'Confirmation\\'|trans}}</h4>\\n      </div>\\n      <div class=\"modal-body\">\\n        <div class=\"row\">\\n          <div class=\"form-group\">\\n            <label class=\"col-md-4 control-label\"><strong>{{\\'Prefecture country name\\'|trans}}</strong></label>\\n            <div class=\"col-md-8\">{{\\'Japan\\'|trans}}</div>\\n          </div>\\n        </div>\\n        <div *ngFor=\"let item of fb.form.get(\\'prefecture_translates\\').value\">\\n          <div class=\"row\">\\n            <div class=\"form-group\">\\n              <label class=\"col-md-4 control-label\"><strong>{{\\'Prefecture Name\\'|trans}}</strong></label>\\n              <div class=\"col-md-8\">{{item.name}}</div>\\n            </div>\\n          </div>\\n          <div class=\"row\">\\n            <div class=\"form-group\">\\n              <label class=\"col-md-4 control-label\"><strong>{{\\'Display Name\\'|trans}}</strong></label>\\n              <div class=\"col-md-8\">{{item.display_name}}</div>\\n            </div>\\n          </div>\\n          <div class=\"row\">\\n            <div class=\"form-group\">\\n              <label class=\"col-md-4 control-label\"><strong>{{\\'Language\\'|trans}}</strong></label>\\n              <div class=\"col-md-8\">{{listLanguage[item.language_id]}}</div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\"row\">\\n          <div class=\"form-group\">\\n            <label class=\"col-md-4 control-label\"><strong>{{\\'Prefecture order\\'|trans}}</strong></label>\\n            <div class=\"col-md-8\">{{fb.form.get(\\'order\\').value}}</div>\\n          </div>\\n        </div>\\n        <div class=\"row\">\\n          <div class=\"form-group\">\\n            <label class=\"col-md-4 control-label\"><strong>{{\\'Prefix\\'|trans}}</strong></label>\\n            <div class=\"col-md-8\">{{fb.form.get(\\'prefix\\').value|trans}}</div>\\n          </div>\\n        </div>\\n        <div class=\"row\">\\n          <div class=\"form-group\">\\n            <label class=\"col-md-4 control-label\"><strong>{{\\'Active\\'|trans}}</strong></label>\\n            <div class=\"col-md-8\">{{app.constant.Active[fb.form.get(\\'active\\').value]|trans}}</div>\\n          </div>\\n        </div>\\n\\n      </div>\\n      <div class=\"modal-footer\">\\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">{{\\'Cancel\\'|trans}}</button>\\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"save()\"><i class=\"\"></i> {{\\'Confirm\\'|trans}}</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<sa-file-browser></sa-file-browser>'},xbBS:function(e,t){e.exports='<div id=\"content\">\\n    <admin-flash></admin-flash>\\n    <div class=\"row\">\\n        <div class=\"row\">\\n            <sa-big-breadcrumbs [items]=\"[[\\'Master management\\'|trans],[\\'Prefecture management\\'|trans],[\\'Prefecture list\\'|trans]]\" icon=\"plus-square\"\\n                                class=\"col-xs-12 \"></sa-big-breadcrumbs>\\n        </div>\\n\\n    </div>\\n\\n    \\x3c!-- widget grid --\\x3e\\n    <section id=\"widget-grid\" class=\"\">\\n        \\x3c!-- row --\\x3e\\n        <div class=\"row\">\\n\\n            \\x3c!-- NEW WIDGET START --\\x3e\\n            <article class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 sortable-grid ui-sortable\">\\n                <div class=\"jarviswidget jarviswidget-color-blueDark\" >\\n                    <header role=\"heading\">\\n                        <span class=\"widget-icon\"> <i class=\"fa fa-table\"></i> </span>\\n                        <h2>{{\\'Prefecture list\\'|trans}}</h2>\\n\\n                        <span class=\"jarviswidget-loader\"><i class=\"fa fa-refresh fa-spin\"></i></span>\\n                    </header>\\n                    <div role=\"content\">\\n                        <a [routerLink]=\\'[\"/admin/prefecture/form\"]\\' class=\"btn btn-default btn-primary pull-right\">{{\\'New prefecture\\'|trans}}</a>\\n                        <div class=\"clearfix\"></div>\\n                        <br/>\\n                        <div class=\"widget-body\">\\n                            <div class=\"table-scroll\">\\n                                <table class=\"table table-striped table-bordered table-hover\" >\\n                                    <thead>\\n                                    <tr class=\"thead-table\">\\n                                        <th (click)=\"filter.sort(\\'id\\',$event)\"><a>{{\\'ID\\'|trans}}</a><span class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"filter.sort(\\'name\\',$event)\"><a>{{\\'Prefecture name\\'|trans}}</a><span class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"filter.sort(\\'prefix\\',$event)\"><a>{{\\'Prefecture prefix\\'|trans}}</a><span class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"filter.sort(\\'country_id\\',$event)\"><a>{{\\'Country name\\'|trans}}</a><span class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"filter.sort(\\'order\\',$event)\"><a>{{\\'Order\\'|trans}}</a><span class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"filter.sort(\\'created_at\\',$event)\"><a>{{\\'Created at\\'|trans}}</a><span class=\"arrow desc\"></span></th>\\n                                        <th (click)=\"filter.sort(\\'active\\',$event)\"><a>{{\\'Status\\'|trans}}</a><span class=\"arrow desc\"></span></th>\\n                                    </tr>\\n                                    \\x3c!--<tr>--\\x3e\\n                                        \\x3c!--<th class=\"hasinput\"><input (input)=\"filter.change(\\'id\\',$event)\" class=\"form-control\" placeholder=\"{{\\'Filter\\'|trans}}\" type=\"text\" /></th>--\\x3e\\n                                        \\x3c!--<th class=\"hasinput\"><input (input)=\"filter.change(\\'name\\',$event)\" class=\"form-control\" placeholder=\"{{\\'Filter\\'|trans}}\" type=\"text\" /></th>--\\x3e\\n                                        \\x3c!--<th class=\"hasinput\">--\\x3e\\n                                            \\x3c!--<select (change)=\"filter.change(\\'country_id\\',$event)\" class=\"form-control\" >--\\x3e\\n                                                \\x3c!--<option *ngFor=\"let item of listCountry|list:(\\'Select Country\\'|trans)\" [value]=\"item.key\" [selected]=\"item.key==\\'\\'\" >{{item.value|trans}}</option>--\\x3e\\n                                            \\x3c!--</select>--\\x3e\\n                                        \\x3c!--</th>--\\x3e\\n                                        \\x3c!--<th class=\"hasinput\"><input (input)=\"filter.change(\\'order\\',$event)\" class=\"form-control\" placeholder=\"{{\\'Filter\\'|trans}}\" type=\"text\" /></th>--\\x3e\\n                                        \\x3c!--<th class=\"hasinput\"><input (input)=\"filter.change(\\'created_at\\',$event)\" class=\"form-control\" placeholder=\"{{\\'Filter\\'|trans}}\" type=\"text\" /></th>--\\x3e\\n                                        \\x3c!--<th class=\"hasinput\">--\\x3e\\n                                            \\x3c!--<select (change)=\"filter.change(\\'active\\',$event)\" class=\"form-control\">--\\x3e\\n                                                \\x3c!--<option *ngFor=\"let item of app.constant.Active|list:(\\'Select\\'|trans)\" [value]=\"item.key\" [selected]=\"item.key==\\'\\'\" >{{item.value|trans}}</option>--\\x3e\\n                                            \\x3c!--</select>--\\x3e\\n                                        \\x3c!--</th>--\\x3e\\n                                    \\x3c!--</tr>--\\x3e\\n                                    </thead>\\n                                    <tbody  *ngIf=\"filter.result.total == 0\">\\n                                    <tr>\\n                                        <td colspan=\"7\" class=\"text-center\">{{\\'No data result\\'|trans}}</td>\\n                                    </tr>\\n                                    </tbody>\\n                                    <tbody *ngIf=\"filter.result\">\\n                                    <tr *ngFor=\"let item of filter.result.data\">\\n                                        <td>{{item.id}}</td>\\n                                        <td style=\"text-align: left\"><a [routerLink]=\\'[\"/admin/prefecture/form\",item.id]\\' title=\"{{\\'Detail\\'|trans}}\">{{item.name}}<br></a></td>\\n                                        <td>{{item.prefix}}</td>\\n                                        <td><span *ngIf=\"item.country.name\">{{item.country.name}}</span></td>\\n                                        <td>{{item.order}}</td>\\n                                        <td>{{item.created_at|datex: \\'YYYY/MM/DD\\'}}</td>\\n                                        <td><sa-active active=\"{{item.active}}\" model=\"Prefecture\" id=\"{{item.id}}\"></sa-active></td>\\n                                    </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                            <sa-paginator  *ngIf=\"filter.result.total > 10\" [data]=\"filter.result\" url=\"/admin/prefecture\"></sa-paginator>\\n                        </div>\\n                    </div>\\n                </div>\\n            </article>\\n        </div>\\n    </section>\\n</div>\\n'}});","extractedComments":[]}