<div id="sb-site">
    <div class="mypage">
        <div class="breadcrumb mypage__breadcrumb">
            <i></i>
            <ul class="breadcrumb__list">
                <li><a [routerLink]="['/']">{{'マッチングガイドTOP'|ttrans}}</a></li>
                <li><a [routerLink]="['/'+languageName+'/mypage']">{{'マイページTOP'|ttrans}}</a></li>
                <li><a [routerLink]="['/'+languageName+'/mypage/proposal_plan']">{{'F62_提案プラン一覧'|ttrans}}</a></li>
                <li><span >{{'F64_再プラン提案入力'|ttrans}}</span></li>
            </ul>
        </div>
        <!--/.breadcrumb -->
        <div class="mypage__container mypage__flex">

            <top-mypage-menu></top-mypage-menu>

            <div class="mypage__content">
                <top-mypage-head></top-mypage-head>


                <div class="mypage__body">



                    <div class="mypage__body__section">

                        <h2 class="mypage__body__title--02">{{'旅リクエスト詳細'|ttrans}}</h2>

                        <h3 class="mypage__body__title">{{detailRequests.title}}</h3>

                        <div class="mypage__body__block">

                            <table class="mypage__body__table-normal">
                                <tbody>
                                <tr>
                                    <th>{{'F64_リクエストNO'|ttrans}}</th>
                                    <td>
                                        <p>{{detailRequests.request_id |addFixedId: 'R'}}</p>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'F64_実施 リクエスト日'|ttrans}}</th>
                                    <td *ngIf="weekday_request"><p>{{detailRequests.date_plan|datex:'YYYY/MM/DD'}} ({{weekday_request|ttrans}})</p></td>
                                </tr>
                                </tbody>
                            </table>

                        </div>

                    </div>
                    <div class="mypage__body__section">

                            <h2 class="mypage__body__title--02">{{'提案プラン再提出'|ttrans}}</h2>

                        <h3 class="mypage__body__title">{{detailSuggestPlan.title}}</h3>

                        <div class="mypage__body__block">

                            <table class="mypage__body__table-normal">
                                <tbody>
                                <tr>
                                    <th>{{'F63_提案NO'|ttrans}}</th>
                                    <td>
                                        <p>{{detailRequests.request_id | addFixedId : 'R'}}-{{detailSuggestPlan.id | addFixedId : ''}}</p>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'実施日'|ttrans}}<sup style="color: red;">※</sup></th>
                                    <td>
                                        <div class="form-set form-group__input-date form-set--l">
                                            <input type="text" name="input-date" id="input-date"  class="form-set__input is-required" (click)="app.showCalendar()" value="{{detailSuggestPlan.date_plan | datex : 'YYYY/MM/DD'}}" placeholder="日付">
                                            <small class="msg_err" *ngIf="Error.date_plan">{{Error.date_plan[0]|ttrans}}</small>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'F63_実施時間'|ttrans}}<sup style="color: red;">※</sup></th>
                                    <td>
                                        <fieldset style="margin-bottom: 40px;">
                                            <div class="form-set--02 form-set__select is-required">
                                                <select  name="time_resquest_hour" class=" is-required input-sm form-control plan-time-start" id="time_request_hour">
                                                    <!--<option *ngFor="let item of app.constant.TimePlan.Plan_hour|list" [value]="item.value"  >{{item.value}}</option>-->
                                                    <option value="01">01</option>
                                                    <option value="02">02</option>
                                                    <option value="03">03</option>
                                                    <option value="04">04</option>
                                                    <option value="05">05</option>
                                                    <option value="06">06</option>
                                                    <option value="07">07</option>
                                                    <option value="08">08</option>
                                                    <option value="09">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                    <option value="13">13</option>
                                                    <option value="14">14</option>
                                                    <option value="15">15</option>
                                                    <option value="16">16</option>
                                                    <option value="17">17</option>
                                                    <option value="18">18</option>
                                                    <option value="19">19</option>
                                                    <option value="20">20</option>
                                                    <option value="21">21</option>
                                                    <option value="22">22</option>
                                                    <option value="23">23</option>
                                                    <option value="24">24</option>
                                                </select>
                                            </div>
                                            <p class="form-set--02">{{'時間'|ttrans}}</p>
                                            <div class="form-set--02 form-set__select is-required">
                                                <select  name="time_resquest_min" class=" is-required input-sm form-control" id="time_request_min">
                                                    <!--<option *ngFor="let item of app.constant.TimePlan.Plan_min|list " [value]="item.value"  >{{item.value}}</option>-->
                                                    <option value="00">00</option>
                                                    <option value="15">15</option>
                                                    <option value="30">30</option>
                                                    <option value="45">45</option>
                                                </select>
                                            </div>
                                            <p class="form-set--02">{{'分'|ttrans}}</p>
                                            <ul class="form-set--02 form-set__option">
                                                <!--<a  href="javascript:void(0);" class="js-add" (click)="addTime()"><i class="fa fa-plus-square" aria-hidden="true"></i></a>-->
                                                <!--<a *ngIf="i != 0" href="javascript:void(0);" class="js-minus" (click)="removeTime(i)"><i class="fa fa-minus-square" aria-hidden="true"></i></a>-->
                                            </ul>
                                            <small class="msg_err" *ngIf="Error.time_request">{{Error.time_request[0]|ttrans}}</small>
                                        </fieldset>
                                        <small class="msg_err" *ngIf="Error.time_request">{{Error.time_request[0]|ttrans}}</small>

                                        <div class="mypage__body__float--left">
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'F45_F47_開始時間'|ttrans}}<sup style="color: red;">※</sup></th>
                                    <td>
                                        <fieldset style="margin-bottom: 20px;" *ngFor="let planitem of timeStart.time; let i = index">
                                            <div class="form-set--02 form-set__select is-required">
                                                <select  name="plan_hour_{{i}}" class="plan-time-start" id="plan_hour" [(ngModel)]="planitem.plan_hour">
                                                    <option *ngFor="let item of app.constant.TimePlan.Plan_hour|list" [value]="item.value"  >{{item.value}}</option>
                                                </select>
                                            </div>
                                            <p class="form-set--02">{{':'|ttrans}}</p>
                                            <div class="form-set--02 form-set__select is-required">
                                                <select  name="plan_min_{{i}}" class="" id="plan_min" [(ngModel)]="planitem.plan_min">
                                                    <option *ngFor="let item of app.constant.TimePlan.Plan_min|list " [value]="item.value"  >{{item.value}}</option>
                                                </select>
                                            </div>
                                            <!--<p class="form-set&#45;&#45;02">{{'分'|ttrans}}</p>-->
                                            <ul class="form-set--02 form-set__option">
                                                <!--<a  href="javascript:void(0);" class="js-add" (click)="addTime()"><i class="fa fa-plus-square" aria-hidden="true"></i></a>-->
                                                <!--<a *ngIf="i != 0" href="javascript:void(0);" class="js-minus" (click)="removeTime(i)"><i class="fa fa-minus-square" aria-hidden="true"></i></a>-->
                                            </ul>
                                            <small class="msg_err" *ngIf="timeStartError && timeStartError[i]">{{timeStartError[i][0]|ttrans}}</small>
                                        </fieldset>
                                    </td>
                                </tr>

                                <tr>
                                    <th>{{'集合場所'|ttrans}}<sup style="color: red;">※</sup></th>
                                    <td>
                                        <!--<div class="inner-form">-->
                                            <!--<div id="plan-location-country" style="display: inline-block; width: 150px;" class="form-set form-set__select is-required">-->
                                                <!--<select name="country_id" class="country_id" (change)="changeCountry()">-->
                                                    <!--<option *ngFor="let item of listCountry|list " [value]="item.key" [selected]="item.key == detailSuggestPlan.country_id" >{{item.value}}</option>-->
                                                <!--</select>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                        <div class="inner-form">
                                            <div id="plan-location-pref" style="display: inline-block; width: 150px;" class="form-set form-set__select is-required">
                                                <select name="prefecture_id" class="prefecture_id">
                                                    <option value="" selected disabled>{{'都市'|ttrans}}</option>
                                                    <option *ngFor="let item of listPrefecture|list " [value]="item.key" [selected]="item.key == detailSuggestPlan.city_id" >{{item.value}}</option>
                                                </select>
                                            </div>
                                            <small class="msg_err" *ngIf="Error.city_id">{{Error.city_id[0]|ttrans}}</small>
                                        </div>
                                        <div class="form-set" style="width: calc( 100% - 145px);">
                                            <input style="width: 115%;" type="text" class="address_meeting" value="{{detailSuggestPlan.address_meeting}}" name="address_meeting" id="plan-location-address" class="form-set__input is-required" />
                                            <small class="msg_err" *ngIf="Error.address_meeting">{{Error.address_meeting[0]|ttrans}}</small>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'F64_希望金額'|ttrans}}<sup style="color: red;">※</sup></th>
                                    <td>
                                        <div class="inner-form inner-form__msg">
                                            <div class="mypage__body__float--left">
                                                <i>{{'単価'|ttrans}}</i>
                                                <i>{{'¥'}}</i>
                                                <div class="form-set form-set--inline">
                                                    <input type="text" name="request-price-cost" id="plan-price" (keyup)="onKey($event)"  class="form-set__input is-required" value="{{detailSuggestPlan.price}}" placeholder="0,000">
                                                </div>
                                                ×

                                            </div>
                                            <div class="mypage__body__float--left">
                                                <i>{{'人数'|ttrans}}</i>
                                                <div class="form-set form-set--inline">
                                                    <input type="text" name="request-price-number" id="plan-number" (keyup)="numPeople($event)" class="form-set__input is-required is-strong" disabled value="{{detailSuggestPlan.num_people}}" placeholder="5">
                                                    <small class="msg_err" *ngIf="Error.price">{{errPeople|ttrans}}</small>
                                                </div>
                                                <i>{{'名'|ttrans}} = </i>
                                            </div>
                                            <div class="mypage__body__float--left">
                                                <i>{{'F64_合計'|ttrans}}</i>
                                                <i>{{'¥'}}</i>
                                                <div class="form-set form-set--inline">
                                                    <input type="text" name="request-price-sum" id="plan-total" class="form-set__input is-required is-emphasis" disabled value="{{detailSuggestPlan.price*detailSuggestPlan.num_people | numberFormat}}" placeholder="0,000">
                                                </div>

                                            </div>
                                            <small class="msg_err" *ngIf="Error.price">{{Error.price[0]|ttrans}}</small>
                                        </div>

                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'F64_提案プラン内容'|ttrans}}<sup style="color: red;">※</sup></th>
                                    <td>
                                        <div class="form-set form-set--textarea">
                                            <textarea name="request-content" id="plan-detail" class="form-set__textarea is-required" placeholder="{{'リクエスト内容を記入して下さい。'|ttrans}}">{{detailSuggestPlan.content}}</textarea>
                                        </div>
                                        <small class="msg_err" *ngIf="Error.content">{{Error.content[0]|ttrans}}</small>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'その他'|ttrans}}</th>
                                    <td>
                                        <div class="form-set form-set--textarea">
                                            <textarea name="request-content" id="plan-note" class="form-set__textarea is-required" placeholder="{{'その他を記入して下さい。'|ttrans}}">{{detailSuggestPlan.other}}</textarea>
                                            <small class="msg_err" *ngIf="Error.other">{{Error.other[0]|ttrans}}</small>

                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{'F64_リクエスト様へのメッセージ'|ttrans}}<br></th>
                                    <td>
                                        <div class="form-set form-set--textarea">
                                            <textarea name="request-content" id="plan-message" class="form-set__textarea is-required" placeholder="{{'送信したいメッセージを入力してください。'|ttrans}}"></textarea>
                                            <small class="msg_err" *ngIf="Error.message_max">{{Error.message_max[0]|ttrans}}</small>

                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                            <div class="form-set__button">
                                <input type="submit" (click)="confirmSave()" class="btn--primary" value="{{'提出確認'|ttrans}}">
                            </div>

                        </div>

                    </div>



                </div>

                <div class="mypage__foot">
                    <a [routerLink]="['/'+languageName+'/mypage/proposal_plan']" class="link--back"><i class="fa fa-angle-left" aria-hidden="true"></i>{{'F64_提案プラン一覧へ戻る'|ttrans}}</a>
                </div>

            </div>
        </div>
    </div>

    <!--#include virtual="/inc/footer.html" -->
</div>